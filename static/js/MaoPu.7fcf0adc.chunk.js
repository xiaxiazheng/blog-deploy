(this.webpackJsonpreactblog=this.webpackJsonpreactblog||[]).push([[15],{110:function(e,a,t){"use strict";t(215);var n=t(217),c=(t(69),t(66)),r=(t(202),t(203)),s=t(55),i=t.n(s),o=t(146),u=t(56),d=(t(65),t(62)),l=t(5),j=t(0),h=t(392),m=t(8),b=t(16),p=t(125),f=t.n(p),O=t(112),_=t(216),v=t.n(_),x=t(1);a.a=function(e){var a=e.type,t=e.refresh,s=e.other_id,p=void 0===s?"":s,_=e.width,g=void 0===_?"170px":_,y=Object(j.useContext)(b.a).username,N=Object(j.useState)(),w=Object(l.a)(N,2),C=w[0],k=w[1],S=Object(j.useState)(),M=Object(l.a)(S,2),L=M[0],B=M[1],P=Object(j.useState)(),D=Object(l.a)(P,2),I=D[0],W=D[1],E=function(){var e=Object(u.a)(i.a.mark((function e(){var a,t,n,c,r,s,u,l,j,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.read();case 2:a=e.sent,t=!1,n=Object(o.a)(a),e.prev=5,n.s();case 7:if((c=n.n()).done){e.next=34;break}r=c.value,s=Object(o.a)(r.types),e.prev=10,s.s();case 12:if((u=s.n()).done){e.next=24;break}if(l=u.value,t||-1===l.indexOf("image")){e.next=22;break}return console.log("clipboardItem",r),t=!0,e.next=19,r.getType(l);case 19:j=e.sent,h=new File([j],v()().format("YYYY-MM-DD HH:mm:ss")+"."+l.split("/").pop(),{type:j.type}),A(h);case 22:e.next=12;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(10),s.e(e.t0);case 29:return e.prev=29,s.f(),e.finish(29);case 32:e.next=7;break;case 34:e.next=39;break;case 36:e.prev=36,e.t1=e.catch(5),n.e(e.t1);case 39:return e.prev=39,n.f(),e.finish(39);case 42:t||d.b.warning("\u8bf7\u5148\u622a\u56fe\uff0c\u518d\u7c98\u8d34");case 43:case"end":return e.stop()}}),e,null,[[5,36,39,42],[10,26,29,32]])})));return function(){return e.apply(this,arguments)}}(),T=Object(j.useState)(!1),z=Object(l.a)(T,2),V=z[0],F=z[1],A=function(e){F(!0);var n=new FormData;n.append("other_id",p),n.append("username",y),n.append(a,e),fetch("".concat(m.d,"/api/").concat(a,"_upload"),{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){d.b.success(e.message),t()})).catch((function(e){console.log(e)})).finally((function(){F(!1)}))};return Object(x.jsx)("div",{className:f.a.uploadWrapper,style:{width:"".concat(g),height:"".concat(g)},children:Object(x.jsx)(n.a,{className:f.a.upload,style:{width:"".concat(g),height:"".concat(g)},name:a,showUploadList:!1,action:"".concat(m.d,"/api/").concat(a,"_upload"),data:{other_id:p,username:y},beforeUpload:function(e){return k(e.name),B(0),W(e.size),!0},listType:"picture-card",onChange:function(e){"uploading"===e.file.status&&B(e.file.percent),"done"===e.file.status&&(d.b.success("\u4e0a\u4f20\u56fe\u7247\u6210\u529f"),k(void 0),t()),"error"===e.file.status&&d.b.error("\u4e0a\u4f20\u56fe\u7247\u5931\u8d25")},children:C?Object(x.jsxs)("div",{className:f.a.progress,children:[Object(x.jsx)("div",{className:f.a.name,children:C}),Object(x.jsx)("div",{children:Object(O.b)(I||0)}),Object(x.jsxs)("div",{children:["\u8fdb\u5ea6\uff1a",(L||0).toFixed(1),"%"]}),Object(x.jsx)(r.a,{strokeColor:{from:"#108ee9",to:"#87d068"},percent:L,status:"active"})]}):Object(x.jsxs)("div",{className:f.a.beforeUpload,children:[Object(x.jsx)(h.a,{className:f.a.addIcon}),"\u70b9\u51fb\u4e0a\u4f20\u56fe\u7247/\u6587\u4ef6",Object(x.jsx)(c.a,{className:f.a.parseButton,onClick:function(e){E(),e.preventDefault(),e.stopPropagation()},loading:V,children:"\u7c98\u8d34\u56fe\u7247"})]})})})}},125:function(e,a,t){e.exports={uploadWrapper:"file-image-upload_uploadWrapper__2KNmk",upload:"file-image-upload_upload__1_D8X",addIcon:"file-image-upload_addIcon__1icNG",progress:"file-image-upload_progress__1bAIy",name:"file-image-upload_name__2Am_K"}},150:function(e,a,t){"use strict";var n=t(49),c=t(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},s=t(53),i=function(e,a){return c.createElement(s.a,Object(n.a)(Object(n.a)({},e),{},{ref:a,icon:r}))};i.displayName="LeftOutlined";a.a=c.forwardRef(i)},394:function(e,a,t){"use strict";var n=t(49),c=t(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},s=t(53),i=function(e,a){return c.createElement(s.a,Object(n.a)(Object(n.a)({},e),{},{ref:a,icon:r}))};i.displayName="SaveOutlined";a.a=c.forwardRef(i)},494:function(e,a,t){e.exports={MaoPu:"mao-pu_MaoPu__Nngly",maopuWrapper:"mao-pu_maopuWrapper__2nedt",addButton:"mao-pu_addButton__2-Vru",switchShowType:"mao-pu_switchShowType__2GL2B",active:"mao-pu_active__16jHk",showMaoStatus:"mao-pu_showMaoStatus__EKa7q",hold:"mao-pu_hold__24dPb",gone:"mao-pu_gone__2p-Yi",dead:"mao-pu_dead__2wWTa",colorCloud:"mao-pu_colorCloud__OSS5u",status:"mao-pu_status__37dB6",maoList:"mao-pu_maoList__1jcRN",levelMao:"mao-pu_levelMao__34JP2",box:"mao-pu_box__3CXOa",hover:"mao-pu_hover__2FJjY",hoverBroSis:"mao-pu_hoverBroSis__3sejW",hoverChildren:"mao-pu_hoverChildren__3VAVr",hoverParent:"mao-pu_hoverParent__1ai2f",parent:"mao-pu_parent__2iNsR",children:"mao-pu_children__3ziDO"}},495:function(e,a,t){e.exports={MaoDetail:"mao-detail_MaoDetail__2ifpb",backButton:"mao-detail_backButton__YUxzi",saveButton:"mao-detail_saveButton__1Gga8",maoData:"mao-detail_maoData__1PGtJ",boxWrapper:"mao-detail_boxWrapper__FB8qA",box:"mao-detail_box__1Wgqo",maoContent:"mao-detail_maoContent__fLNl6"}},496:function(e,a,t){e.exports={ImgManage:"mao-img-manage_ImgManage__2c5Io"}},497:function(e,a,t){e.exports={compareMao:"compare-mao_compareMao__2ji4W"}},498:function(e,a,t){e.exports={ParentMao:"parent-mao_ParentMao__2cE9Q",maoBox:"parent-mao_maoBox__2RXzi",self:"parent-mao_self__T1PtL",parent:"parent-mao_parent__sSIcs",father:"parent-mao_father__1rxsT",mother:"parent-mao_mother__CcEyO"}},556:function(e,a,t){"use strict";t.r(a);t(96);var n=t(98),c=(t(222),t(238)),r=(t(69),t(66)),s=(t(65),t(62)),i=t(55),o=t.n(i),u=t(56),d=t(5),l=t(0),j=t(494),h=t.n(j),m=(t(130),t(103)),b=t(495),p=t.n(b),f=t(496),O=t.n(f),_=t(133),v=t(110),x=t(1),g=function(e){var a=e.type,t=e.imageList,n=e.other_id,c=e.initImgList;return Object(x.jsxs)("div",{className:O.a.ImgManage,children:[Object(x.jsx)(v.a,{type:a,other_id:n,width:"150px",refresh:c}),Object(x.jsx)(_.a,{type:a,refresh:c,width:"150px",imageList:t})]})},y=t(183),N=t(16),w=t(150),C=t(394),k=t(73);function S(){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)("/maopu/getMaoPuList");case 2:return a=e.sent,e.abrupt("return",!(!a||"success"!==a.resultsCode)&&a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return B.apply(this,arguments)}function B(){return(B=Object(u.a)(o.a.mark((function e(a){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.c)("/maopu/addMaoPu",a);case 2:return t=e.sent,e.abrupt("return",!(!t||"success"!==t.resultsCode)&&t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(o.a.mark((function e(a){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.c)("/maopu/updateMaoPu",a);case 2:return t=e.sent,e.abrupt("return",!(!t||"success"!==t.resultsCode));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=m.a.Option,W=[{label:"\u6301\u6709",value:"hold"},{label:"\u5df2\u9001\u8d70",value:"gone"},{label:"\u6b7b\u4ea1",value:"dead"}],E=function(e){var a=e.mao,t=e.back,c=e.initFn,i=e.maoList,j=Object(l.useContext)(N.a).username,h=n.a.TextArea,b=Object(l.useState)(!1),f=Object(d.a)(b,2),O=f[0],_=f[1],v=Object(l.useState)(a.name),k=Object(d.a)(v,2),S=k[0],M=k[1],L=Object(l.useState)(a.birthday),B=Object(d.a)(L,2),D=B[0],E=B[1],T=Object(l.useState)(a.status),z=Object(d.a)(T,2),V=z[0],F=z[1],A=Object(l.useState)(a.father),Y=Object(d.a)(A,2),H=Y[0],J=Y[1],K=Object(l.useState)(a.father_id),R=Object(d.a)(K,2),G=R[0],U=R[1],q=Object(l.useState)(a.mother),X=Object(d.a)(q,2),Q=X[0],Z=X[1],$=Object(l.useState)(a.mother_id),ee=Object(d.a)($,2),ae=ee[0],te=ee[1],ne=Object(l.useState)(a.appearance),ce=Object(d.a)(ne,2),re=ce[0],se=ce[1],ie=Object(l.useState)(a.feature),oe=Object(d.a)(ie,2),ue=oe[0],de=oe[1],le=Object(l.useState)(a.description),je=Object(d.a)(le,2),he=je[0],me=je[1],be=Object(l.useState)(a.remarks),pe=Object(d.a)(be,2),fe=pe[0],Oe=pe[1];Object(l.useEffect)((function(){return Pe(),De(),document.addEventListener("keydown",ye),function(){document.removeEventListener("keydown",ye)}}),[]);var _e=Object(l.useState)(!1),ve=Object(d.a)(_e,2),xe=ve[0],ge=ve[1];Object(l.useEffect)((function(){xe&&(Ie(),ge(!1))}),[xe]);var ye=function(e){83===e.keyCode&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),ge(!0))};Object(l.useEffect)((function(){var e=!1;S===a.name&&D===a.birthday&&H===a.father&&Q===a.mother&&re===a.appearance&&ue===a.feature&&he===a.description&&G===a.father_id&&ae===a.mother_id&&V===a.status&&fe===a.remarks||(e=!0),_(e)}),[S,D,H,Q,re,ue,he,G,ae,V,fe]);var Ne=Object(l.useState)([]),we=Object(d.a)(Ne,2),Ce=we[0],ke=we[1],Se=Object(l.useState)([]),Me=Object(d.a)(Se,2),Le=Me[0],Be=Me[1],Pe=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)(a.head_img_id,j);case 2:t=e.sent,ke(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return[],e.next=3,Object(y.c)(a.mao_id,j);case 3:t=e.sent,Be(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={mao_id:a.mao_id,name:S,birthday:D,father:H,mother:Q,appearance:re,feature:ue,description:he,father_id:G,mother_id:ae,status:V,remarks:fe},e.next=3,P(t);case 3:e.sent?(s.b.success("\u66f4\u65b0\u6210\u529f"),_(!1),c()):s.b.error("\u66f4\u65b0\u5931\u8d25");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"".concat(p.a.MaoDetail," ScrollBar"),children:[Object(x.jsxs)(r.a,{className:p.a.backButton,type:"primary",onClick:function(){return t()},children:[Object(x.jsx)(w.a,{type:"left"}),"\u8fd4\u56de"]}),Object(x.jsxs)(r.a,{className:p.a.saveButton,type:"primary",danger:O,onClick:Ie,children:[Object(x.jsx)(C.a,{}),"\u4fdd\u5b58"]}),Object(x.jsxs)("div",{className:p.a.maoData,children:[Object(x.jsx)("h2",{children:a.name}),Object(x.jsxs)("div",{className:p.a.boxWrapper,children:[Object(x.jsxs)("div",{className:p.a.box,children:[Object(x.jsx)("span",{children:"\u59d3\u540d\uff1a"}),Object(x.jsx)(n.a,{value:S,onChange:function(e){return M(e.target.value)}})]}),Object(x.jsxs)("div",{className:p.a.box,children:[Object(x.jsx)("span",{children:"\u751f\u65e5\uff1a"}),Object(x.jsx)(n.a,{value:D,placeholder:"\u5c3d\u91cf\u519910\u4f4d\u65e5\u671f\u5982\uff1a2020-01-01\uff0c\u7528\u4e8e\u627e\u5144\u5f1f\u59d0\u59b9",onChange:function(e){return E(e.target.value)}})]})]}),Object(x.jsxs)("div",{className:p.a.boxWrapper,children:[Object(x.jsxs)("div",{className:p.a.box,children:[Object(x.jsx)("span",{children:"\u7236\u4eb2\u59d3\u540d\uff1a"}),Object(x.jsx)(n.a,{value:H,onChange:function(e){return J(e.target.value)}})]}),Object(x.jsxs)("div",{className:p.a.box,children:[Object(x.jsx)("span",{children:"\u7236\u4eb2 ID\uff1a"}),Object(x.jsxs)(m.a,{value:G,onChange:function(e){U(e||"")},style:{flex:1},children:[Object(x.jsx)(I,{value:"",children:"\u65e0\u8bb0\u5f55"},"\u65e0\u8bb0\u5f55"),i.filter((function(e){return e.mao_id!==a.mao_id})).map((function(e){return Object(x.jsx)(I,{value:e.mao_id,children:e.name},e.mao_id)}))]})]})]}),Object(x.jsxs)("div",{className:p.a.boxWrapper,children:[Object(x.jsxs)("div",{className:p.a.box,children:[Object(x.jsx)("span",{children:"\u6bcd\u4eb2\u59d3\u540d\uff1a"}),Object(x.jsx)(n.a,{value:Q,onChange:function(e){return Z(e.target.value)}})]}),Object(x.jsxs)("div",{className:p.a.box,children:[Object(x.jsx)("span",{children:"\u6bcd\u4eb2 ID\uff1a"}),Object(x.jsxs)(m.a,{value:ae,onChange:function(e){te(e||"")},style:{flex:1},children:[Object(x.jsx)(I,{value:"",children:"\u65e0\u8bb0\u5f55"},"\u65e0\u8bb0\u5f55"),i.filter((function(e){return e.mao_id!==a.mao_id})).map((function(e){return Object(x.jsx)(I,{value:e.mao_id,children:e.name},e.mao_id)}))]})]})]}),Object(x.jsxs)("div",{className:p.a.box,children:[Object(x.jsx)("span",{children:"\u72b6\u6001\uff1a"}),Object(x.jsx)(m.a,{value:V,onChange:function(e){return F(e)},style:{flex:1},children:W.map((function(e){return Object(x.jsx)(I,{value:e.value,children:e.label},e.value)}))})]}),Object(x.jsxs)("div",{className:p.a.box,children:[Object(x.jsx)("span",{children:"\u5916\u8c8c\uff1a"}),Object(x.jsx)(n.a,{value:re,onChange:function(e){return se(e.target.value)}})]}),Object(x.jsxs)("div",{className:p.a.box,children:[Object(x.jsx)("span",{children:"\u7279\u70b9\uff1a"}),Object(x.jsx)(n.a,{value:ue,onChange:function(e){return de(e.target.value)}})]}),Object(x.jsxs)("div",{className:p.a.box,children:[Object(x.jsx)("span",{children:"\u63cf\u8ff0\uff1a"}),Object(x.jsx)(h,{rows:6,value:he,onChange:function(e){return me(e.target.value)}})]}),Object(x.jsxs)("div",{className:p.a.box,children:[Object(x.jsx)("span",{children:"\u5907\u6ce8\uff1a"}),Object(x.jsx)(h,{rows:2,placeholder:"\u8fd9\u4e2a\u5b57\u6bb5\u4e0d\u4f1a\u663e\u793a\u5728\u5c0f\u7a0b\u5e8f",value:fe,onChange:function(e){return Oe(e.target.value)}})]})]}),Object(x.jsxs)("div",{className:p.a.maoContent,children:[Object(x.jsx)("div",{children:"\u5934\u50cf\u56fe\u7247"}),Object(x.jsx)(g,{type:"mao",other_id:a.head_img_id,imageList:Ce,initImgList:Pe}),Object(x.jsx)("div",{children:"\u5176\u4ed6\u56fe\u7247"}),Object(x.jsx)(g,{type:"mao",other_id:a.mao_id,imageList:Le,initImgList:De})]})]})},T=t(79),z=t(392),V=t(131),F=t(497),A=t.n(F),Y=t(498),H=t.n(Y),J=function(e){var a=e.mao;return Object(x.jsx)("div",{className:H.a.ParentMao,children:function e(a){return Object(x.jsxs)("div",{className:H.a.maoBox,children:[Object(x.jsx)("div",{className:H.a.self,children:a.name}),(a.fatherObject||a.motherObject)&&Object(x.jsxs)("div",{className:H.a.parent,children:[Object(x.jsx)("div",{className:H.a.father,children:a.fatherObject?e(a.fatherObject):Object(x.jsx)("div",{className:H.a.self,children:a.father})}),Object(x.jsx)("div",{className:H.a.mother,children:a.motherObject?e(a.motherObject):Object(x.jsx)("div",{className:H.a.self,children:a.mother})})]})]},a.mao_id)}(a)})},K=function(e){var a=e.maoList,t=Object(l.useState)(),n=Object(d.a)(t,2),c=n[0],r=n[1];return Object(x.jsxs)("div",{className:A.a.compareMao,children:[Object(x.jsx)(m.a,{style:{width:300},value:null===c||void 0===c?void 0:c.mao_id,showSearch:!0,filterOption:function(e,a){return-1!==(null===a||void 0===a?void 0:a.children.indexOf(e))},onChange:function(e){var t;return r(null===(t=a.filter((function(a){return a.mao_id===e})))||void 0===t?void 0:t[0])},children:a.map((function(e){return Object(x.jsx)(m.a.Option,{value:e.mao_id,children:e.name},e.mao_id)}))}),c&&Object(x.jsx)(J,{mao:c})]})},R=function(e){var a=e.maoList,t=(e.setActiveMao,Object(l.useState)([0,0])),n=Object(d.a)(t,2),c=n[0],s=n[1];return Object(x.jsxs)("div",{className:A.a.maoTree,children:[Object(x.jsx)(r.a,{onClick:function(){return s((function(e){return console.log(e),[].concat(Object(V.a)(e),[0])}))},children:"\u65b0\u589e\u5bf9\u6bd4"}),Object(x.jsx)("div",{className:A.a.compareBox,children:c.map((function(e,t){return Object(x.jsx)(K,{maoList:a},t)}))})]})},G=["\u6240\u6709\u732b\u732b","\u5206\u5c42\u732b\u732b","\u5bf9\u6bd4\u732b\u732b"],U=["\u5f53\u524d\u732b\u54aa","\u7236\u6bcd","\u5144\u5f1f\u59d0\u59b9","\u5b69\u5b50","\u6301\u6709","\u5df2\u9001\u8d70","\u6b7b\u4ea1"],q={hold:h.a.hold,gone:h.a.gone,dead:h.a.dead};a.default=function(){var e;Object(l.useEffect)((function(){N()}),[]),Object(T.a)("\u732b\u8c31");var a=Object(l.useState)([]),t=Object(d.a)(a,2),i=t[0],j=t[1],m=Object(l.useState)(),b=Object(d.a)(m,2),p=b[0],f=b[1],O=Object(l.useState)(null),_=Object(d.a)(O,2),v=_[0],g=_[1],y=function(e){var a={};return e.forEach((function(e){a[e.mao_id]=e})),e.forEach((function(e){e.father_id&&(a[e.father_id].children?a[e.father_id].children.push(a[e.mao_id]):a[e.father_id].children=[a[e.mao_id]],e.fatherObject=a[e.father_id]),e.mother_id&&(a[e.mother_id].children?a[e.mother_id].children.push(a[e.mao_id]):a[e.mother_id].children=[a[e.mao_id]],e.motherObject=a[e.mother_id])})),e},N=function(){var e=Object(u.a)(o.a.mark((function e(){var a,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:(a=e.sent)&&((t=a.sort((function(e,a){return new Date(e.birthday).getTime()-new Date(a.birthday).getTime()}))).map((function(e){e.key=e.mao_id,e.title=e.name})),j(y(t)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L({});case 2:(a=e.sent)&&(s.b.success("\u65b0\u589e\u732b\u732b\u6210\u529f"),f(a),N());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=Object(l.useState)("\u6240\u6709\u732b\u732b"),k=Object(d.a)(C,2),M=k[0],B=k[1],P=Object(l.useState)(),D=Object(d.a)(P,2),I=D[0],W=D[1],V=function(e){return Object(x.jsx)("div",{className:"".concat(h.a.parent," ").concat(v&&v.mao_id===e.mao_id?h.a.hover:""," ").concat(v&&v.mao_id!==e.mao_id&&10===v.birthday.length&&v.birthday===e.birthday?h.a.hoverBroSis:""," ").concat(v&&e.children&&e.children.some((function(e){return e.mao_id===v.mao_id}))?h.a.hoverChildren:""," ").concat(!v||e.mother_id!==v.mao_id&&e.father_id!==v.mao_id?"":h.a.hoverParent," ").concat(Y?q[e.status]:"","\n              "),onMouseEnter:function(a){a.stopPropagation(),!Y&&(!v||v.mao_id!==e.mao_id)&&g(e)},onClick:function(){return f(e)},children:Object(x.jsx)("span",{children:e.name})},e.mao_id)},F=Object(l.useState)(!1),A=Object(d.a)(F,2),Y=A[0],H=A[1];return Object(x.jsxs)("div",{className:h.a.MaoPu,children:[!p&&Object(x.jsxs)("div",{className:"".concat(h.a.maopuWrapper," ScrollBar"),children:[Object(x.jsxs)(r.a,{className:h.a.addButton,type:"primary",onClick:w,children:[Object(x.jsx)(z.a,{}),"\u65b0\u589e\u732b\u732b"]}),Object(x.jsx)("div",{className:h.a.switchShowType,children:G.map((function(e){return Object(x.jsx)("span",{className:M===e?h.a.active:"",onClick:function(){return B(e)},children:e},e)}))}),Object(x.jsx)("div",{className:h.a.showMaoStatus,children:Object(x.jsx)(c.a,{checkedChildren:"\u663e\u793a\u732b\u54aa\u72b6\u6001",unCheckedChildren:"\u663e\u793a\u732b\u54aa\u72b6\u6001",defaultChecked:!0,checked:Y,onChange:function(e){return function(e){H(e),g(null)}(e)}})}),"\u5206\u5c42\u732b\u732b"===M&&Object(x.jsxs)("div",{className:"".concat(h.a.levelMao),children:[Object(x.jsx)("div",{className:h.a.singleMao,children:i.filter((function(e){return""===e.father_id&&""===e.mother_id&&!e.children})).map((function(e){return V(e)}))}),function e(a){return"undefined"===typeof a?null:a.map((function(a){return Object(x.jsxs)("div",{className:a.children?h.a.box:"",children:[V(a),a.children&&Object(x.jsx)("div",{className:h.a.children,children:e(a.children)})]},a.mao_id)}))}(i.filter((function(e){return""===e.father_id&&""===e.mother_id&&e.children})))]}),Object(x.jsx)("div",{className:h.a.colorCloud,children:U.map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:h.a.status})," ",e]},e)}))}),"\u6240\u6709\u732b\u732b"===M&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(n.a,{value:I,onChange:function(e){return W(e.target.value)},style:{width:300},allowClear:!0}),Object(x.jsx)("div",{className:h.a.maoList,children:null===(e=I?i.filter((function(e){return-1!==e.name.indexOf(I)})):i)||void 0===e?void 0:e.map((function(e){return V(e)}))}),v&&Object(x.jsx)(J,{mao:v})]}),"\u5bf9\u6bd4\u732b\u732b"===M&&Object(x.jsx)(R,{maoList:i,setActiveMao:f})]}),p&&Object(x.jsx)(E,{maoList:i,mao:p,back:function(){return f(void 0)},initFn:function(){return N()}})]})}}}]);