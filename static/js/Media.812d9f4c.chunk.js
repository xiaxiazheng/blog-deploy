(this.webpackJsonpreactblog=this.webpackJsonpreactblog||[]).push([[15],{331:function(e,c,t){"use strict";t.d(c,"a",(function(){return s}));var n=t(55),a=t.n(n),r=t(56),i=t(75);function s(){return o.apply(this,arguments)}function o(){return(o=Object(r.a)(a.a.mark((function e(){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)("/media/getMediaList");case 2:return c=e.sent,e.abrupt("return",c&&"success"===c.resultsCode?c.data:[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},356:function(e,c,t){"use strict";var n=t(49),a=t(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},i=t(53),s=function(e,c){return a.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:c,icon:r}))};s.displayName="RedoOutlined";c.a=a.forwardRef(s)},392:function(e,c,t){e.exports={music:"music-player_music__2ko7h",musicBox:"music-player_musicBox__1jMBS",songName:"music-player_songName__2zXJm",scroll:"music-player_scroll__1IuQI",iconBox:"music-player_iconBox__XTjRq",playIcon:"music-player_playIcon__3YoLS",active:"music-player_active__3Lbsd",musicList:"music-player_musicList__heJHg",show:"music-player_show__23gDw",hide:"music-player_hide__pgeKU"}},397:function(e,c,t){"use strict";t(66);var n=t(65),a=t(55),r=t.n(a),i=t(102),s=t(56),o=t(5),u=t(0),l=t(392),d=t.n(l),f=t(331),m=t(8),j=t(356),b=t(438),v=t(439),h=t(49),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"},O=t(53),y=function(e,c){return u.createElement(O.a,Object(h.a)(Object(h.a)({},e),{},{ref:c,icon:p}))};y.displayName="PauseCircleOutlined";var x=u.forwardRef(y),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},k=function(e,c){return u.createElement(O.a,Object(h.a)(Object(h.a)({},e),{},{ref:c,icon:_}))};k.displayName="ArrowRightOutlined";var N=u.forwardRef(k),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"},w=function(e,c){return u.createElement(O.a,Object(h.a)(Object(h.a)({},e),{},{ref:c,icon:g}))};w.displayName="UnorderedListOutlined";var B=u.forwardRef(w),C=t(87),S=t(1);c.a=function(e){var c=e.activeSong,t=e.setActiveSong;Object(u.useEffect)((function(){E()}),[]),Object(u.useEffect)((function(){c&&c.key!==(null===H||void 0===H?void 0:H.key)&&(T(c),D(!1))}),[c]);var a=Object(u.useState)(!1),l=Object(o.a)(a,2),h=l[0],p=l[1],O=Object(u.useState)([]),y=Object(o.a)(O,2),_=y[0],k=y[1],g=Object(u.useState)([]),w=Object(o.a)(g,2),L=w[0],z=w[1],E=function(){var e=Object(s.a)(r.a.mark((function e(){var c,t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)();case 2:(c=e.sent)&&(t=c.filter((function(e){return e.mimeType.includes("audio")})),k(t),n=Object(i.a)(t).sort((function(){return Math.random()-Math.random()})),z(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=Object(u.useRef)(null),M=Object(u.useState)(),R=Object(o.a)(M,2),H=R[0],T=R[1],A=Object(u.useState)(null),J=Object(o.a)(A,2),X=J[0],P=J[1],Q=Object(u.useState)(!1),V=Object(o.a)(Q,2),q=V[0],D=V[1];Object(u.useEffect)((function(){t&&H&&(null===H||void 0===H?void 0:H.key)!==(null===c||void 0===c?void 0:c.key)&&t(H)}),[H]),Object(u.useEffect)((function(){H&&(U(H),D(!1))}),[H]),Object(C.a)((null===H||void 0===H?void 0:H.key)||"\u6682\u65e0\u64ad\u653e");var U=function(e){var c=I;if(c.current){c.current.childNodes[0].pause(),c.current.childNodes[0].src="",c.current.childNodes[0].childNodes[0].src="",c.current.removeChild(c.current.childNodes[0]);var t=document.createElement("audio");t.controls=!0,t.autoplay=!0,t.onplay=function(){return D(!0)},t.onpause=function(){return D(!1)},t.onended=K;var n=document.createElement("source");n.src="".concat(m.b,"/").concat(e.key),n.type=e.mimeType,t.appendChild(n),c.current.appendChild(t)}},F=function(e){var c=I;if(c.current&&c.current.childNodes&&1===c.current.childNodes.length){var t=c.current.childNodes[0];e?t.play():t.pause(),D(e)}},K=function(){h?H&&U(H):Y()};Object(u.useEffect)((function(){var e=I;e.current&&(e.current.childNodes[0].onended=K)}),[h]);var Y=function(){var e=L.findIndex((function(e){return H&&e.key===H.key}));e=e===L.length-1?0:e+1,T(L[e]),n.b.success("\u5f53\u524d\u64ad\u653e\uff1a".concat(L[e].key),1)};return Object(S.jsxs)("div",{className:d.a.music,children:[Object(S.jsx)("div",{className:d.a.musicBox,ref:I,children:Object(S.jsx)("audio",{controls:!0,children:Object(S.jsx)("source",{src:""})})}),Object(S.jsx)("div",{className:d.a.songName,title:H?H.key:"",children:Object(S.jsx)("span",{children:H?H.key:"\u6682\u65e0\u64ad\u653e"})}),Object(S.jsxs)("div",{className:d.a.iconBox,children:[Object(S.jsx)(j.a,{className:"".concat(d.a.playIcon," ").concat(h?d.a.active:""),title:"\u5355\u66f2\u5faa\u73af",onClick:function(){return p(!h)}}),Object(S.jsx)(b.a,{className:d.a.playIcon,title:"\u4e0a\u4e00\u9996\uff1a".concat(function(){var e=L.findIndex((function(e){return H&&e.key===H.key}));return e=0===e?L.length-1:e-1,L[e]?L[e].key:""}()),onClick:function(){var e=L.findIndex((function(e){return H&&e.key===H.key}));e=0===e?L.length-1:e-1,T(L[e]),n.b.success("\u5f53\u524d\u64ad\u653e\uff1a".concat(L[e].key),1)}}),!q&&Object(S.jsx)(v.a,{className:"".concat(d.a.playIcon),title:"\u64ad\u653e",onClick:F.bind(null,!0)}),q&&Object(S.jsx)(x,{className:"".concat(d.a.playIcon),title:"\u6682\u505c",onClick:F.bind(null,!1)}),Object(S.jsx)(N,{className:d.a.playIcon,title:"\u4e0b\u4e00\u9996\uff1a".concat(function(){var e=L.findIndex((function(e){return H&&e.key===H.key}));return e=e===L.length-1?0:e+1,L[e]?L[e].key:""}()),onClick:Y}),Object(S.jsx)(B,{className:"".concat(d.a.playIcon," ").concat(X?d.a.active:""),title:"\u6b4c\u66f2\u5217\u8868",onClick:function(){X?(P(!1),setTimeout((function(){P(null)}),300)):P(!0)}})]}),Object(S.jsx)("div",{className:"".concat(d.a.musicList," ").concat(null===X?"":X?d.a.show:d.a.hide," ScrollBar"),children:_&&_.map((function(e){return Object(S.jsx)("span",{onClick:function(){return function(e){T(e),P(null),n.b.success("\u5f53\u524d\u64ad\u653e\uff1a".concat(e.key),1)}(e)},className:H&&H.key===e.key?d.a.active:"",children:e.key},e.key)}))})]})}},438:function(e,c,t){"use strict";var n=t(49),a=t(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},i=t(53),s=function(e,c){return a.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:c,icon:r}))};s.displayName="ArrowLeftOutlined";c.a=a.forwardRef(s)},439:function(e,c,t){"use strict";var n=t(49),a=t(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},i=t(53),s=function(e,c){return a.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:c,icon:r}))};s.displayName="PlayCircleOutlined";c.a=a.forwardRef(s)},525:function(e,c,t){e.exports={video:"media_video__1PQH8",tabs:"media_tabs__aX2j5",active:"media_active__1o93H",musicBox:"media_musicBox__hcnq1",videoList:"media_videoList__15XQe",videoBox:"media_videoBox__1EBDk"}},595:function(e,c,t){"use strict";t.r(c);var n=t(55),a=t.n(n),r=t(56),i=t(5),s=t(0),o=t(525),u=t.n(o),l=t(331),d=t(8),f=t(397),m=t(87),j=t(1);c.default=function(){Object(m.a)("media"),Object(s.useEffect)((function(){w()}),[]);var e=Object(s.useState)("\u97f3\u4e50"),c=Object(i.a)(e,2),t=c[0],n=c[1],o=Object(s.useState)([]),b=Object(i.a)(o,2),v=b[0],h=b[1],p=Object(s.useState)([]),O=Object(i.a)(p,2),y=O[0],x=O[1],_=Object(s.useState)([]),k=Object(i.a)(_,2),N=k[0],g=k[1],w=function(){var e=Object(r.a)(a.a.mark((function e(){var c,t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)();case 2:(c=e.sent)&&(t=c.filter((function(e){return e.mimeType.includes("audio")})),g(t),h(t),n=c.filter((function(e){return e.mimeType.includes("video")})),x(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=Object(s.useRef)(null),C=Object(s.useState)(),S=Object(i.a)(C,2),L=S[0],z=S[1];Object(s.useEffect)((function(){if(L&&"\u89c6\u9891"===t){var e=B;if(e.current){e.current.childNodes[0].pause(),e.current.childNodes[0].src="",e.current.childNodes[0].childNodes[0].src="",e.current.removeChild(e.current.childNodes[0]);var c=document.createElement("video");c.controls=!0;var n=document.createElement("source");n.src="".concat(d.b,"/").concat(L.key),n.type=L.mimeType,c.appendChild(n),e.current.appendChild(c)}}}),[L]);var E=function(e){z(e),H(!1)},I=function(){return Object(j.jsx)(j.Fragment,{children:v&&v.map((function(e){return Object(j.jsx)("span",{onClick:E.bind(null,e),className:L===e?u.a.active:"",children:e.key},e.key)}))})},M=Object(s.useState)(!1),R=Object(i.a)(M,2),H=(R[0],R[1]);return Object(j.jsxs)("div",{className:"".concat(u.a.video," ScrollBar"),children:["\u97f3\u4e50"===t&&Object(j.jsx)("div",{className:u.a.musicBox,children:Object(j.jsx)(f.a,{activeSong:L})}),Object(j.jsx)("div",{className:u.a.tabs,children:["\u97f3\u4e50","\u89c6\u9891"].map((function(e){return Object(j.jsx)("span",{className:e===t?u.a.active:"",onClick:function(){return function(e){n(e),z(void 0),h("\u97f3\u4e50"===e?N:y)}(e)},children:e},e)}))}),Object(j.jsx)("div",{className:"".concat(u.a.videoList," ScrollBar"),children:Object(j.jsx)(I,{})}),"\u89c6\u9891"===t&&Object(j.jsx)("div",{className:u.a.videoBox,ref:B,children:Object(j.jsx)("audio",{controls:!0,children:Object(j.jsx)("source",{src:""})})})]})}}}]);