(this.webpackJsonpreactblog=this.webpackJsonpreactblog||[]).push([[28],{362:function(e,t,n){e.exports={keepalive:"keep-alive_keepalive__2xf1G",router:"keep-alive_router__2bVLe",test:"keep-alive_test__tlgZm"}},418:function(e,t,n){e.exports={testPage:"test-page_testPage__3A-_E",router:"test-page_router__3KSUZ"}},419:function(e,t,n){e.exports={video:"knn_video__1bw92",lookTab:"knn_lookTab__plb6b",inputTest:"knn_inputTest__3PmR2",button:"knn_button__2PrHz",ringBox:"knn_ringBox__1y3yq",ring:"knn_ring__2kQpS"}},420:function(e,t,n){e.exports={scroll:"virtual-scroll_scroll__256nm",scrollBox:"virtual-scroll_scrollBox__1uGar",scrollItem:"virtual-scroll_scrollItem__2DO9O"}},554:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n(0),c=n.n(r),o=n(418),l=n.n(o),u=n(88),i=n(173),s=n(419),f=n.n(s),p=n(42),b=n.n(p),m=function(){var e=Object(r.useRef)(null),t=function(e,t,n){return Math.floor((e-t)/(n-t)*1e4)/1e4},n=Object(r.useState)(20),o=Object(a.a)(n,2),l=o[0],s=o[1],p=function(e,t,n){var a=Object(i.a)(e);return a.forEach((function(e){var a,r,c,o;e.distance=(a=e.x,r=e.y,c=t,o=n,Math.sqrt(Math.pow(c-a,2)+Math.pow(o-r,2)))})),a},m=function(e,t,n,a){var r=p(e,n,a);return r.sort((function(e,t){return e.distance-t.distance})),function(e){var t={};e.forEach((function(e){t[e.type]?t[e.type]+=1/(e.distance+1):t[e.type]=1/(e.distance+1)}));var n="",a=0;return Object.keys(t).forEach((function(e){t[e]>a&&(a=t[e],n=e)})),n}(r.splice(0,t))};Object(r.useEffect)((function(){j()}),[]);var v=Object(r.useState)([]),y=Object(a.a)(v,2),O=y[0],d=y[1],j=function(){var e=function(){for(var e=[],t=["I\u7c7b","II\u7c7b","III\u7c7b"],n=0;n<l;n++)e.push({x:Math.floor(100*Math.random()),y:Math.floor(80*Math.random()),type:t[n%t.length]});return e}();d(e),console.log("\u8bad\u7ec3\u6570\u636e",O)},E=Object(r.useState)([{x:2,y:2},{x:2,y:10},{x:50,y:5},{x:99,y:2},{x:99,y:9}]),g=Object(a.a)(E,2),_=g[0],h=g[1],x=Object(r.useState)(0),k=Object(a.a)(x,2),S=k[0],I=k[1],N=Object(r.useState)(0),M=Object(a.a)(N,2),P=M[0],T=M[1];Object(r.useEffect)((function(){0!==O.length&&0!==_.length&&L()}),[O,_]);var w=Object(r.useState)(0),C=Object(a.a)(w,2),A=C[0],B=C[1],L=function(){var n=Object(i.a)(_);console.log("\u6d4b\u8bd5\u6570\u636e",n);var a=function(e,n){var a=[].concat(Object(i.a)(e),Object(i.a)(n)),r=Number.MIN_VALUE,c=Number.MAX_VALUE,o=Number.MIN_VALUE,l=Number.MAX_VALUE;return a.forEach((function(e){e.x>r&&(r=e.x),e.y>o&&(o=e.y),e.x<c&&(c=e.x),e.y<l&&(l=e.y)})),{meanRandomList:e=e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{x:t(e.x,c,r),y:t(e.y,l,o)})})),meanTestList:n=n.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{x:t(e.x,c,r),y:t(e.y,l,o)})}))}}(O,n),r=a.meanRandomList,c=a.meanTestList;console.log("\u5f52\u4e00\u5316\u540e\u7684\u8bad\u7ec3\u6570\u636e",r),console.log("\u5f52\u4e00\u5316\u540e\u7684\u6d4b\u8bd5\u6570\u636e",c);var o=function(e){for(var t=Math.floor(e.length/5),n=[],a=function(a){for(var r=[],c=function(n){var c=Object(i.a)(e),o=c.splice(n*t,t),l=0;o.forEach((function(e){e.type===m(c,a,e.x,e.y)&&l++})),r.push(l/(4===n?e.length-4*t:t))},o=0;o<5;o++)c(o);var l=0;r.forEach((function(e){l+=e})),n.push(l/5),console.log("k = ".concat(a," \u7684\u6b63\u786e\u7387: ").concat(l/5))},r=1;r<=20;r+=2)a(r);var c=0,o=0;return n.forEach((function(e,t){e>c&&(c=e,o=2*t+1)})),o}(r);B(o),console.log("\u7528\u8bad\u7ec3\u6570\u636e\u4ea4\u53c9\u9a8c\u8bc1\u5f97\u5230\u7684 k \u503c",o),console.log("\u7528 knn \u8ba1\u7b97\u5230\u6bcf\u4e2a\u70b9\u7684\u8ddd\u79bb\uff0c\u8fd4\u56de\u6743\u91cd\u6700\u5927\u7684\u5206\u7c7b\uff1a"),c.forEach((function(e,t){var a=m(r,o,e.x,e.y);n[t].type=a,console.log("[".concat(n[t].x,", ").concat(n[t].y,"]: ").concat(a))})),function(t,n){var a=e.current,r=b.a.init(a),c="black",o="orange",l="red",u={xAxis:{},yAxis:{},series:[{symbolSize:20,data:t.filter((function(e){return"I\u7c7b"===e.type})).map((function(e){return[e.x,e.y]})),color:c,type:"scatter"},{symbolSize:20,data:t.filter((function(e){return"II\u7c7b"===e.type})).map((function(e){return[e.x,e.y]})),color:o,type:"scatter"},{symbolSize:20,data:t.filter((function(e){return"III\u7c7b"===e.type})).map((function(e){return[e.x,e.y]})),color:l,type:"scatter"},{symbolSize:20,data:n.filter((function(e){return"I\u7c7b"===e.type})).map((function(e){return[e.x,e.y]})),color:"transparent",type:"scatter",itemStyle:{borderColor:c,borderWidth:3}},{symbolSize:20,data:n.filter((function(e){return"II\u7c7b"===e.type})).map((function(e){return[e.x,e.y]})),color:"transparent",type:"scatter",itemStyle:{borderColor:o,borderWidth:3}},{symbolSize:20,data:n.filter((function(e){return"III\u7c7b"===e.type})).map((function(e){return[e.x,e.y]})),color:"transparent",type:"scatter",itemStyle:{borderColor:l,borderWidth:3}}]};r.setOption(u)}(O,n),console.log("------------------------------------")};return c.a.createElement("div",{className:f.a.video},c.a.createElement("div",{className:f.a.lookTab},c.a.createElement("input",{className:f.a.inputTest,type:"text",value:S,onChange:function(e){I(e.target.value)}}),c.a.createElement("input",{className:f.a.inputTest,type:"text",value:P,onChange:function(e){T(e.target.value)}}),c.a.createElement("button",{className:f.a.button,onClick:function(){!function(){var e=[].concat(Object(i.a)(_),[{x:S,y:P}]);h(e)}()}},"\u52a0\u5165\u6d4b\u8bd5\u6570\u636e"),c.a.createElement("input",{className:f.a.inputTest,type:"text",value:l,onChange:function(e){s(e.target.value)}}),c.a.createElement("button",{className:f.a.button,onClick:function(){j()}},"\u5237\u65b0\u8bad\u7ec3\u6570\u636e"),c.a.createElement("div",null,"\u4ea4\u53c9\u9a8c\u8bc1\u540e\u7684 K \u503c\uff1a",A)),c.a.createElement("div",{className:f.a.ringBox},c.a.createElement("div",{ref:e,className:f.a.ring})))},v=n(420),y=n.n(v),O=Math.floor(6)+1,d=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],o=t[1],l=Object(r.useState)([]),u=Object(a.a)(l,2),i=u[0],s=u[1],f=Object(r.useState)(0),p=Object(a.a)(f,2),b=p[0],m=p[1],v=Object(r.useState)(0),d=Object(a.a)(v,2),j=d[0],E=d[1];Object(r.useEffect)((function(){for(var e=[],t=0;t<100;t++)e.push(t);o(e),s(e.slice(0,O)),E(50*(100-O))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:y.a.scroll,style:{height:300},onScroll:function(e){var t=e.target.scrollTop,a=Math.floor(t/50);m(50*a),E(50*(100-O-a)),s(n.slice(a+1,a+1+O))}},c.a.createElement("div",{className:y.a.scrollBox,style:{paddingTop:b,paddingBottom:j}},i.map((function(e){return c.a.createElement("div",{key:e,className:y.a.scrollItem,style:{height:50}},e)})))),c.a.createElement("div",null,"paddingTop\uff1a",b,"px"),c.a.createElement("div",null,"paddingBottom\uff1a",j,"px"),c.a.createElement("div",null,"\u5f53\u524d\u6e32\u67d3\u5143\u7d20\uff1a",i.join(",")))},j=n(362),E=n.n(j),g=function(e){var t=e.flag,n=Object(r.useState)(),o=Object(a.a)(n,2),l=o[0],u=o[1];return Object(r.useEffect)((function(){console.log("\u521d\u59cb\u5316\uff1a".concat(l)),u(1)}),[]),c.a.createElement("div",{className:E.a.test},t,"\uff1a",l,c.a.createElement("button",{onClick:function(){u((l||0)+1)}},"\u70b9\u6211 + 1"))},_=function(){var e=["A","B","C","D","E","F","G"],t=Object(r.useState)("A"),n=Object(a.a)(t,2),o=n[0],l=n[1],u=Object(r.useState)([]),s=Object(a.a)(u,2),f=s[0],p=s[1];return Object(r.useEffect)((function(){f.includes(o)||p([].concat(Object(i.a)(f),[o]))}),[o]),c.a.createElement("div",{className:E.a.keepalive},c.a.createElement("div",null,"\u6d4b\u8bd5\u7528\u6570\u7ec4\u5b9e\u73b0\u7684\u7ec4\u4ef6 keep-alive\uff0c\u539f\u7406 list.map + \u5224\u65ad\u6761\u4ef6\uff0c\u8fd8\u6709 display: none"),c.a.createElement("div",{className:E.a.router},"\u70b9\u51fb\u5207\u6362\u8def\u7531\uff1a",e.map((function(e){return c.a.createElement("span",{onClick:function(){return l(e)}},e)}))),c.a.createElement("div",null,"\u5177\u4f53\u7ec4\u4ef6\uff1a",e.map((function(e){return f.includes(e)?c.a.createElement("div",{style:{display:e===o?"block":"none"}},c.a.createElement(g,{key:e,flag:e})):c.a.createElement(c.a.Fragment,null,e===o&&c.a.createElement("div",null,c.a.createElement(g,{key:e,flag:e})))}))))},h=n(81);t.default=function(){var e=Object(r.useState)("virtual-scroll"),t=Object(a.a)(e,2),n=t[0],o=t[1];Object(h.a)("\u6d4b\u8bd5\u9875");var u=function(){var e={knn:m,"virtual-scroll":d,"keep-alive":_}[n];return c.a.createElement(e,null)};return c.a.createElement("div",{className:"".concat(l.a.testPage," ScrollBar")},c.a.createElement("div",null,"\u6d4b\u8bd5\u9875"),c.a.createElement("div",{className:l.a.router},["knn","keep-alive","virtual-scroll"].map((function(e){return c.a.createElement("span",{onClick:function(){return o(e)}},e)}))),n&&c.a.createElement(u,null))}},77:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}))},81:function(e,t,n){"use strict";var a=n(0);t.a=function(e){Object(a.useEffect)((function(){return document.title="[\u867e] ".concat(e),function(){document.title="\u867e\u867e\u90d1\u7684\u4e2a\u4eba\u7f51\u7ad9"}}),[e])}},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(77);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);