(this.webpackJsonpreactblog=this.webpackJsonpreactblog||[]).push([[16],{594:function(e,c,t){e.exports={video:"media_video__1VOK3",tabs:"media_tabs__3jMC1",active:"media_active__147KF",musicBox:"media_musicBox__2PLhm",videoList:"media_videoList__1quGZ",videoBox:"media_videoBox__2UyVF"}},731:function(e,c,t){"use strict";t.r(c);var n=t(55),a=t.n(n),i=t(56),r=t(5),s=t(0),o=t(594),u=t.n(o),d=t(352),l=t(11),j=t(505),b=t(90),m=t(1);c.default=function(){Object(b.a)("media"),Object(s.useEffect)((function(){B()}),[]);var e=Object(s.useState)("\u97f3\u4e50"),c=Object(r.a)(e,2),t=c[0],n=c[1],o=Object(s.useState)([]),v=Object(r.a)(o,2),O=v[0],f=v[1],p=Object(s.useState)([]),h=Object(r.a)(p,2),x=h[0],_=h[1],N=Object(s.useState)([]),y=Object(r.a)(N,2),S=y[0],k=y[1],B=function(){var e=Object(i.a)(a.a.mark((function e(){var c,t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)();case 2:(c=e.sent)&&(t=c.filter((function(e){return e.mimeType.includes("audio")})),k(t),f(t),n=c.filter((function(e){return e.mimeType.includes("video")})),_(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=Object(s.useRef)(null),g=Object(s.useState)(),w=Object(r.a)(g,2),E=w[0],L=w[1];Object(s.useEffect)((function(){if(E&&"\u89c6\u9891"===t){var e=C;if(e.current){e.current.childNodes[0].pause(),e.current.childNodes[0].src="",e.current.childNodes[0].childNodes[0].src="",e.current.removeChild(e.current.childNodes[0]);var c=document.createElement("video");c.controls=!0;var n=document.createElement("source");n.src="".concat(l.b,"/").concat(E.key),n.type=E.mimeType,c.appendChild(n),e.current.appendChild(c)}}}),[E]);var F=function(e){L(e),V(!1)},T=function(){return Object(m.jsx)(m.Fragment,{children:O&&O.map((function(e){return Object(m.jsx)("span",{onClick:F.bind(null,e),className:E===e?u.a.active:"",children:e.key},e.key)}))})},J=Object(s.useState)(!1),K=Object(r.a)(J,2),V=(K[0],K[1]);return Object(m.jsxs)("div",{className:"".concat(u.a.video," ScrollBar"),children:["\u97f3\u4e50"===t&&Object(m.jsx)("div",{className:u.a.musicBox,children:Object(m.jsx)(j.a,{activeSong:E})}),Object(m.jsx)("div",{className:u.a.tabs,children:["\u97f3\u4e50","\u89c6\u9891"].map((function(e){return Object(m.jsx)("span",{className:e===t?u.a.active:"",onClick:function(){return function(e){n(e),L(void 0),f("\u97f3\u4e50"===e?S:x)}(e)},children:e},e)}))}),Object(m.jsx)("div",{className:"".concat(u.a.videoList," ScrollBar"),children:Object(m.jsx)(T,{})}),"\u89c6\u9891"===t&&Object(m.jsx)("div",{className:u.a.videoBox,ref:C,children:Object(m.jsx)("audio",{controls:!0,children:Object(m.jsx)("source",{src:""})})})]})}}}]);