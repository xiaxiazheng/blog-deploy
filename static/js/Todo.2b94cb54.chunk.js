"use strict";(self.webpackChunkreactblog=self.webpackChunkreactblog||[]).push([["116"],{6238(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".bookMarkDrawer--f71beb7d,.footprintDrawer--49e1ec50{z-index:4}.bookMarkDrawer--f71beb7d .ant-drawer-body,.footprintDrawer--49e1ec50 .ant-drawer-body{padding:10px 0}.bookMarkDrawer--f71beb7d .ant-drawer-header,.bookMarkDrawer--f71beb7d .ant-drawer-title,.bookMarkDrawer--f71beb7d .ant-drawer-content,.footprintDrawer--49e1ec50 .ant-drawer-header,.footprintDrawer--49e1ec50 .ant-drawer-title,.footprintDrawer--49e1ec50 .ant-drawer-content{background-color:#001529;color:hsla(0,0%,100%,.65)}.bookMarkDrawer--f71beb7d .ant-drawer-close,.footprintDrawer--49e1ec50 .ant-drawer-close{color:hsla(0,0%,100%,.65)}",""]),i.locals={bookMarkDrawer:"bookMarkDrawer--f71beb7d",footprintDrawer:"footprintDrawer--49e1ec50"};let l=i},85070(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".footer--edf9744a{display:flex;justify-content:space-between}.footer2--6648359f{display:flex;justify-content:flex-end}.todoChildListTitle--ba205fbb{display:flex;justify-content:space-between;padding:6px 0;font-size:16px;font-weight:600;color:hsla(0,0%,100%,.65)}.modalTitle--8bac9a24{display:flex;align-items:center}.titleClass--c31ffe01{display:inline-block;width:16px;height:16px;margin-right:5px;border-radius:50%}.modal--b59db11c .ant-input::placeholder{color:hsla(0,0%,100%,.65);background-color:#001529}.modal--b59db11c .ant-modal-header,.modal--b59db11c .ant-modal-content,.modal--b59db11c .ant-modal-title{color:hsla(0,0%,100%,.65);background-color:#001529}.modal--b59db11c .ant-btn-default.ant-btn-dangerous:disabled,.modal--b59db11c .ant-btn-primary:disabled,.modal--b59db11c .ant-btn-primary.ant-btn-background-ghost:disabled{background-color:#fff}.modal--b59db11c .ant-modal-close{color:hsla(0,0%,100%,.65)}.modal--b59db11c .ant-modal-body{overflow:hidden;overflow-y:auto}.modal--b59db11c .ant-modal-body::-webkit-scrollbar{width:3px;height:3px}.modal--b59db11c .ant-modal-body::-webkit-scrollbar-thumb{border-radius:.5rem;background:#fff}.modal--b59db11c .ant-modal-body::-webkit-scrollbar-track{border-radius:.5rem;background:#001529}.wrapper--787c24d6{display:flex;overflow-y:auto}.wrapper--787c24d6 .left--140fcc0e{flex:1;min-width:450px;max-height:calc(100vh - 200px);margin-right:10px;border-right:1px solid #ccc;padding-bottom:20px}.wrapper--787c24d6 .right--e4d329cc{flex:3;min-width:1350px;max-height:calc(100vh - 200px)}.wrapper--787c24d6 .full--43ea5b7e{width:100%}.title--c52f74c1{display:flex;text-align:center;align-items:center;width:100%;font-weight:600;justify-content:center;font-size:16px;padding-bottom:7px}",""]),i.locals={footer:"footer--edf9744a",footer2:"footer2--6648359f",todoChildListTitle:"todoChildListTitle--ba205fbb",modalTitle:"modalTitle--8bac9a24",titleClass:"titleClass--c31ffe01",modal:"modal--b59db11c",wrapper:"wrapper--787c24d6",left:"left--140fcc0e",right:"right--e4d329cc",full:"full--43ea5b7e",title:"title--c52f74c1"};let l=i},21517(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".filterWrapper--edf92f52{display:flex;flex-wrap:wrap}.filterWrapper--edf92f52>div{margin-top:10px;margin-right:10px}.filterWrapper--edf92f52 .ant-radio-button-wrapper{color:var(--color);background-color:#001529}.filterWrapper--edf92f52 .ant-radio-button-wrapper-checked{color:#fff !important}.search--e427b29c{width:100%;background:var(--bg_color);color:var(--color)}.select--1c51b273 .ant-select-clear{color:#fff;background:rgba(0,0,0,0)}.select--1c51b273 .ant-select-clear:hover{color:#fff;background:rgba(0,0,0,0)}.btn--ebfffe67{color:var(--color) !important}.btn--ebfffe67>span:hover{color:var(--color_active) !important}.color--2cea0073.zero--76409bb0 .ant-radio-button-checked{background-color:#f5222d;border-color:#f5222d}.color--2cea0073.one--988363ff .ant-radio-button-checked{background-color:#a756df;border-color:#a756df}.color--2cea0073.two--2c6ef656 .ant-radio-button-checked{background-color:#40a9ff;border-color:#40a9ff}.color--2cea0073.three--b329c80c .ant-radio-button-checked{background-color:#fa8c16;border-color:#fa8c16}.color--2cea0073.four--bb46fd41 .ant-radio-button-checked{background-color:#827e7e;border-color:#827e7e}.color--2cea0073.minusOne--e38b8d6c .ant-radio-button-checked{background-color:#00d4d8;border-color:#00d4d8}",""]),i.locals={filterWrapper:"filterWrapper--edf92f52",search:"search--e427b29c",select:"select--1c51b273",btn:"btn--ebfffe67",color:"color--2cea0073",zero:"zero--76409bb0",one:"one--988363ff",two:"two--2c6ef656",three:"three--b329c80c",four:"four--bb46fd41",minusOne:"minusOne--e38b8d6c"};let l=i},95968(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".hoverOpen--6df0e211{display:flex;flex-direction:column}.hoverOpen--6df0e211 .bookMark--c3a116fb,.hoverOpen--6df0e211 .footprint--663281c5{width:15px;height:50%;line-height:50vh;border-left:1px solid #ccc;cursor:pointer}.hoverOpen--6df0e211 .footprint--663281c5{border-top:1px solid #ccc}",""]),i.locals={hoverOpen:"hoverOpen--6df0e211",bookMark:"bookMark--c3a116fb",footprint:"footprint--663281c5"};let l=i},50886(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".inputList--b5b01bb2{display:flex;row-gap:10px;align-items:flex-start}.inputList--b5b01bb2 .mdShowWrapper--d11fd707{width:calc(50% - 3px);margin-right:6px;color:hsla(0,0%,100%,.65)}.inputList--b5b01bb2 .mdShowWrapper--d11fd707 .mdShowTitle--bd79b530{display:flex;justify-content:center;align-items:center;height:36px}.inputList--b5b01bb2 .mdShowWrapper--d11fd707 .mdShow--d37b73b5{border:2px solid #91caff;box-sizing:border-box;padding:4px 11px;border-radius:6px;min-height:120px}.inputList--b5b01bb2 .rightSide--ab4f48c0{flex:1}.inputItem--08672664{display:flex;flex-direction:column;align-items:flex-end}.deleteIcon--b6fbbd65{margin-top:5px;font-size:16px;cursor:pointer}.textarea--86d14c3e{padding-right:20px;word-break:break-all}.textarea--86d14c3e textarea{overflow:hidden;overflow-y:auto}.textarea--86d14c3e textarea::-webkit-scrollbar{width:3px;height:3px}.textarea--86d14c3e textarea::-webkit-scrollbar-thumb{border-radius:.5rem;background:#fff}.textarea--86d14c3e textarea::-webkit-scrollbar-track{border-radius:.5rem;background:#000}",""]),i.locals={inputList:"inputList--b5b01bb2",mdShowWrapper:"mdShowWrapper--d11fd707",mdShowTitle:"mdShowTitle--bd79b530",mdShow:"mdShow--d37b73b5",rightSide:"rightSide--ab4f48c0",inputItem:"inputItem--08672664",deleteIcon:"deleteIcon--b6fbbd65",textarea:"textarea--86d14c3e"};let l=i},94522(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".modal--57d6bfe0 .ant-input::placeholder{color:hsla(0,0%,100%,.65);background-color:#001529}.modal--57d6bfe0 .ant-modal-header,.modal--57d6bfe0 .ant-modal-content,.modal--57d6bfe0 .ant-modal-title{color:hsla(0,0%,100%,.65);background-color:#001529}.modal--57d6bfe0 .ant-btn-default.ant-btn-dangerous:disabled,.modal--57d6bfe0 .ant-btn-primary.ant-btn-background-ghost:disabled{background-color:#fff}.modal--57d6bfe0 .ant-modal-close{color:hsla(0,0%,100%,.65)}.modal--57d6bfe0 .ant-modal-body{overflow:hidden;overflow-y:auto}.modal--57d6bfe0 .ant-modal-body::-webkit-scrollbar{width:3px;height:3px}.modal--57d6bfe0 .ant-modal-body::-webkit-scrollbar-thumb{border-radius:.5rem;background:#fff}.modal--57d6bfe0 .ant-modal-body::-webkit-scrollbar-track{border-radius:.5rem;background:#001529}.input--8cb13e9e{margin-bottom:10px}.content--e1c1c1e4{height:70vh}.todoItem--c1553541{font-size:16px}.pagination--51623954{z-index:2;text-align:right;color:hsla(0,0%,100%,.65);background-color:#001529}.pagination--51623954 .ant-pagination-item:not(.ant-pagination-item-active) a,.pagination--51623954 .ant-pagination-item-link.ant-pagination-item-link{color:hsla(0,0%,100%,.65);background-color:#001529}",""]),i.locals={modal:"modal--57d6bfe0",input:"input--8cb13e9e",content:"content--e1c1c1e4",todoItem:"todoItem--c1553541",pagination:"pagination--51623954"};let l=i},28676(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".modal--a51b09f0 .ant-input::placeholder{color:hsla(0,0%,100%,.65);background-color:#001529}.modal--a51b09f0 .ant-modal-header,.modal--a51b09f0 .ant-modal-content,.modal--a51b09f0 .ant-modal-title{color:hsla(0,0%,100%,.65);background-color:#001529}.modal--a51b09f0 .ant-btn-default.ant-btn-dangerous:disabled,.modal--a51b09f0 .ant-btn-primary:disabled,.modal--a51b09f0 .ant-btn-primary.ant-btn-background-ghost:disabled{background-color:#fff}.modal--a51b09f0 .ant-modal-close{color:hsla(0,0%,100%,.65)}.modal--a51b09f0 .ant-modal-body{overflow:hidden;overflow-y:auto}.modal--a51b09f0 .ant-modal-body::-webkit-scrollbar{width:3px;height:3px}.modal--a51b09f0 .ant-modal-body::-webkit-scrollbar-thumb{border-radius:.5rem;background:#fff}.modal--a51b09f0 .ant-modal-body::-webkit-scrollbar-track{border-radius:.5rem;background:#001529}.modal--a51b09f0 .ant-form-item{margin-bottom:10px}.modal--a51b09f0 .ant-form-item-label>label{color:hsla(0,0%,100%,.65)}.modal--a51b09f0 .ant-input{padding-right:20px}.modal--a51b09f0 .ant-input-affix-wrapper,.modal--a51b09f0 .ant-input,.modal--a51b09f0 .anticon.ant-input-clear-icon,.modal--a51b09f0 .ant-btn,.modal--a51b09f0 .ant-radio-button-wrapper,.modal--a51b09f0 .ant-select-selector.ant-select-selector,.modal--a51b09f0 .ant-picker,.modal--a51b09f0 .ant-picker-input>input,.modal--a51b09f0 .ant-picker-suffix,.modal--a51b09f0 .ant-picker-clear{color:hsla(0,0%,100%,.65);background-color:#001529}.modal--a51b09f0 .ant-switch{background-color:#4b4646}.modal--a51b09f0 .ant-btn:hover{color:#1890ff}.modal--a51b09f0 .ant-switch-checked,.modal--a51b09f0 .ant-btn-primary{background-color:#1890ff;color:#fff}.modal--a51b09f0 .ant-btn-primary.ant-btn-dangerous{background-color:#ff4d4f}.modal--a51b09f0 .ant-radio-button-wrapper-checked{color:#fff !important}",""]),i.locals={modal:"modal--a51b09f0"};let l=i},54648(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".wrapper--7401a57f{display:flex}.wrapper--7401a57f .left--a5d37ea4{flex:1;margin-right:10px;overflow-x:hidden}.wrapper--7401a57f .right--96d952d4{width:33.3333333333%}.today--9f23ddf4{display:inline-block;margin-left:10px;padding:5px 0;cursor:pointer;color:hsla(0,0%,100%,.65)}.today--9f23ddf4.active--e201fb29{color:#40a9ff}.today--9f23ddf4.active1--1b9165b2{color:#f5222d}.today--9f23ddf4.active2--0be508c7{color:#20d420}.week--42f876c2{padding:0 5px;color:hsla(0,0%,100%,.65)}.week--42f876c2.active--e201fb29{color:#40a9ff}.week--42f876c2.active1--1b9165b2{color:#f5222d}.week--42f876c2.active2--0be508c7{color:#20d420}.space--621dd3b9{max-width:100%}.space--621dd3b9 .ant-space-item{overflow:hidden}.space--621dd3b9 .ant-space-item:first-child{flex:1;overflow:hidden}.space--621dd3b9 .nowTodo--28955a7c{width:100%;overflow:hidden}.form--9cd3e146 .ant-form-item{margin-bottom:10px}.form--9cd3e146 .ant-form-item-label>label{color:hsla(0,0%,100%,.65)}.form--9cd3e146 .ant-input{padding-right:20px}.form--9cd3e146 .ant-input-affix-wrapper,.form--9cd3e146 .ant-input,.form--9cd3e146 .anticon.ant-input-clear-icon,.form--9cd3e146 .ant-btn,.form--9cd3e146 .ant-radio-button-wrapper,.form--9cd3e146 .ant-select-selector.ant-select-selector,.form--9cd3e146 .ant-picker,.form--9cd3e146 .ant-picker-input>input,.form--9cd3e146 .ant-picker-suffix,.form--9cd3e146 .ant-picker-clear{color:hsla(0,0%,100%,.65);background-color:#001529}.form--9cd3e146 .ant-switch{background-color:#4b4646}.form--9cd3e146 .ant-btn:hover{color:#1890ff}.form--9cd3e146 .ant-switch-checked,.form--9cd3e146 .ant-btn-primary{background-color:#1890ff;color:#fff}.form--9cd3e146 .ant-btn-primary.ant-btn-dangerous{background-color:#ff4d4f}.form--9cd3e146 .ant-radio-button-wrapper-checked{color:#fff !important}.showMore--5c1204e5{text-align:center}.showMore--5c1204e5:hover{color:#40a9ff}.color--dc55f0d3.zero--b2e39e74 .ant-radio-button-checked{background-color:#f5222d;border-color:#f5222d}.color--dc55f0d3.one--a166cd3f .ant-radio-button-checked{background-color:#a756df;border-color:#a756df}.color--dc55f0d3.two--f599ec67 .ant-radio-button-checked{background-color:#40a9ff;border-color:#40a9ff}.color--dc55f0d3.three--f4e28ca1 .ant-radio-button-checked{background-color:#fa8c16;border-color:#fa8c16}.color--dc55f0d3.four--283b7fa1 .ant-radio-button-checked{background-color:#827e7e;border-color:#827e7e}.color--dc55f0d3.minusOne--d7e1dec0 .ant-radio-button-checked{background-color:#00d4d8;border-color:#00d4d8}.selectOptions--ce0b6337{z-index:10}",""]),i.locals={wrapper:"wrapper--7401a57f",left:"left--a5d37ea4",right:"right--96d952d4",today:"today--9f23ddf4",active:"active--e201fb29",active1:"active1--1b9165b2",active2:"active2--0be508c7",week:"week--42f876c2",space:"space--621dd3b9",nowTodo:"nowTodo--28955a7c",form:"form--9cd3e146",showMore:"showMore--5c1204e5",color:"color--dc55f0d3",zero:"zero--b2e39e74",one:"one--a166cd3f",two:"two--f599ec67",three:"three--f4e28ca1",four:"four--283b7fa1",minusOne:"minusOne--d7e1dec0",selectOptions:"selectOptions--ce0b6337"};let l=i},91168(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".content--3a679429{font-size:16px}",""]),i.locals={content:"content--3a679429"};let l=i},64962(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".todoList--592c1e36{display:flex;height:100%;font-size:16px;text-align:left}.todoList--592c1e36>div:first-child{flex:1;height:100%}.Layout--9a110cb0{width:100%;height:100%;display:grid;grid-template-columns:repeat(3, 1fr);grid-template-rows:repeat(auto-fit, minmax(200px, 1fr))}.Layout--9a110cb0 .l--75633841{grid-column-start:1;grid-column-end:2;grid-row-start:1;grid-row-end:25;display:grid}.Layout--9a110cb0 .l--75633841 .lt--78ffa618{border-bottom:1px solid #ccc;border-right:1px solid #ccc}.Layout--9a110cb0 .l--75633841 .lm--41db18f1{border-right:1px solid #ccc}.Layout--9a110cb0 .l--75633841 .lb--bb6461f1{border-top:1px solid #ccc;border-right:1px solid #ccc}.Layout--9a110cb0 .m--307cb89c{grid-column-start:2;grid-column-end:3;grid-row-start:1;grid-row-end:25;display:flex;flex-direction:column}.Layout--9a110cb0 .m--307cb89c .mt--0c70b232{flex:1;border-bottom:1px solid #ccc}.Layout--9a110cb0 .m--307cb89c .mm--d81b01de{max-height:36%;border-bottom:1px solid #ccc}.Layout--9a110cb0 .m--307cb89c .mb--bf44ed01{max-height:36%}.Layout--9a110cb0 .rt--79585556{grid-column-start:3;grid-column-end:4;grid-row-start:1;grid-row-end:25;border-left:1px solid #ccc;display:flex;flex-direction:column}.Layout--9a110cb0 .rt--79585556>div:first-child{padding:5px 20px;border-top:1px solid #ccc}.Layout--9a110cb0 .rt--79585556>div:last-child{flex:1}",""]),i.locals={todoList:"todoList--592c1e36",Layout:"Layout--9a110cb0",layout:"Layout--9a110cb0",l:"l--75633841",lt:"lt--78ffa618",lm:"lm--41db18f1",lb:"lb--bb6461f1",m:"m--307cb89c",mt:"mt--0c70b232",mm:"mm--d81b01de",mb:"mb--bf44ed01",rt:"rt--79585556"};let l=i},78991(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,"",""]),i.locals={};let l=i},38643(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".list--f985fc4a{position:relative;flex:1;min-height:100%}.list--f985fc4a:nth-child(2){flex:1.2;border-left:1px solid var(--border_color);border-right:1px solid var(--border_color)}.list--f985fc4a .header--ef27cc80{position:-webkit-sticky;position:sticky;top:0;padding:20px 20px 10px;background-color:var(--bg_color);z-index:3}.list--f985fc4a .header--ef27cc80 .header1--cef1c229{display:flex;justify-content:space-between;align-items:center;font-size:18px;font-weight:500}.list--f985fc4a .header--ef27cc80 .header1--cef1c229>span.active--2ed70005{color:var(--color_active)}.list--f985fc4a .OneDayListWrap--bd064080{height:calc(100% - 165px);padding:0 20px}.list--f985fc4a .oneDay--d36bff90{margin-bottom:8px}.list--f985fc4a .oneDay--d36bff90 .time--5bbec871{margin-bottom:8px;border-bottom:1px solid var(--border_color)}.list--f985fc4a .oneDay--d36bff90 .time--5bbec871.today--9c2bf897{color:var(--color_active)}.list--f985fc4a .oneDay--d36bff90 .time--5bbec871.previously--9a464d5c{color:red}.list--f985fc4a .oneDay--d36bff90 .time--5bbec871.future--be78e0f9{color:gray}.list--f985fc4a .item--22daccf0{display:flex;justify-content:space-around;margin:12px 0}.list--f985fc4a .item--22daccf0>span:nth-child(1){flex:1;display:flex;align-items:center}.list--f985fc4a .item--22daccf0 .throughout--35f7c712{color:gray}.list--f985fc4a .doneIcon--5a5fab3c,.list--f985fc4a .icon--b0001b7f{margin:0 7px;cursor:pointer}.list--f985fc4a .doneIcon--5a5fab3c:hover,.list--f985fc4a .icon--b0001b7f:hover{color:var(--color_hover_green)}.list--f985fc4a .doneIcon--5a5fab3c{font-size:20px;margin-right:14px}.list--f985fc4a .pagination--c73377ac{z-index:2;position:-webkit-sticky;position:sticky;bottom:0;padding:10px 20px;text-align:right;color:var(--color);background-color:var(--bg_color)}.list--f985fc4a .pagination--c73377ac .ant-select-item{color:var(--color);background-color:var(--bg_color)}",""]),i.locals={list:"list--f985fc4a",header:"header--ef27cc80",header1:"header1--cef1c229",active:"active--2ed70005",OneDayListWrap:"OneDayListWrap--bd064080",oneDayListWrap:"OneDayListWrap--bd064080",oneDay:"oneDay--d36bff90",time:"time--5bbec871",today:"today--9c2bf897",previously:"previously--9a464d5c",future:"future--be78e0f9",item:"item--22daccf0",throughout:"throughout--35f7c712",doneIcon:"doneIcon--5a5fab3c",icon:"icon--b0001b7f",pagination:"pagination--c73377ac"};let l=i},38518(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,"",""]),i.locals={};let l=i},42700(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".calendarWrapper--c5bb258b{margin-bottom:10px}.calendarWrapper--c5bb258b .ant-picker-calendar{text-align:center}.calendarWrapper--c5bb258b .ant-picker-cell::before{height:33px}.calendarWrapper--c5bb258b .ant-picker-cell{padding:0}.calendarWrapper--c5bb258b .ant-picker-cell>div{padding:6px 0}.calendarWrapper--c5bb258b .cell--ab5e872e{margin:0 3px}.calendarWrapper--c5bb258b .cell--ab5e872e.notThisMonth--efda10cd{opacity:.5}.calendarWrapper--c5bb258b .cell--ab5e872e.green--1e6cb233{color:#fff;border:1px solid green;background-color:green}.calendarWrapper--c5bb258b .cell--ab5e872e.red--36b5bb5e{color:#fff;border:1px solid red;background-color:red}.calendarWrapper--c5bb258b .cell--ab5e872e.blue--f814bf77{color:#fff;background-color:#4096ff}.calendarWrapper--c5bb258b .cell--ab5e872e.blueBorder--863ad4f4{color:#4096ff;border:1px solid #4096ff}",""]),i.locals={calendarWrapper:"calendarWrapper--c5bb258b",cell:"cell--ab5e872e",notThisMonth:"notThisMonth--efda10cd",green:"green--1e6cb233",red:"red--36b5bb5e",blue:"blue--f814bf77",blueBorder:"blueBorder--863ad4f4"};let l=i},19678(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".header--bc2645c8{display:flex;justify-content:space-between;align-items:center;padding:10px 20px 20px;font-size:18px;font-weight:600}.header--bc2645c8>span.active--9f74986d{color:var(--color_active)}.time--d240f705{margin-bottom:8px;border-bottom:1px solid var(--border_color)}.content--d6ad4eb8{width:100%;height:calc(100vh - 85px);padding:0 20px}.footprint--50797faf{font-size:16px}",""]),i.locals={header:"header--bc2645c8",active:"active--9f74986d",time:"time--d240f705",content:"content--d6ad4eb8",footprint:"footprint--50797faf"};let l=i},94111(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".noteModal--c70b1934{z-index:4}.noteModal--c70b1934 .ant-drawer-body{padding:10px 0}.noteModal--c70b1934 .ant-drawer-header,.noteModal--c70b1934 .ant-drawer-title,.noteModal--c70b1934 .ant-drawer-content{background-color:#001529;color:hsla(0,0%,100%,.65)}.noteModal--c70b1934 .ant-drawer-close{color:hsla(0,0%,100%,.65)}.note--35317642{font-size:16px;text-align:left;height:100%}.note--35317642 .wrap--29d9e6dd{max-width:1200px;margin:0 auto;padding:10px 20px 20px}.note--35317642 .wrap--29d9e6dd>div{width:100%;padding-bottom:10px}.note--35317642 .wrap--29d9e6dd>div:first-child{position:-webkit-sticky;position:sticky;top:0;background-color:var(--bg_color);z-index:4}.note--35317642 .wrap--29d9e6dd .input--647322e9{background-color:var(--bg_color);z-index:2}.note--35317642 span{vertical-align:middle}.note--35317642 .pagination--74f11464{position:-webkit-sticky;position:sticky;bottom:0;margin:0 auto;padding:10px 0;background-color:var(--bg_color);text-align:right}.note--35317642 .add_note--ed85cc29{opacity:.6}.note--35317642 .edit_note--ab5a2309{position:fixed;right:2.5rem;top:10.5rem;opacity:.6}.note--35317642 .delete_note--78ef3855{position:fixed;right:2.5rem;top:13.5rem;opacity:.6;color:#ff4d4f !important}.note_list--0d5ab740{display:grid;column-gap:10px;margin:0 auto}.note_list--0d5ab740>div{margin-bottom:20px;cursor:pointer}.note_list--0d5ab740>div:hover{border-color:#40a9ff}.note_item--c4399506{text-overflow:ellipsis;font-size:16px;overflow:hidden}.note_item--c4399506.active--666c6fe8{border-color:#40a9ff;-webkit-line-clamp:unset;max-height:calc(100vh - 300px);overflow-y:auto;border:unset;padding:unset}.note_item--c4399506:last-child{margin-bottom:0}.note_item--c4399506 .note_box--32e23135{border:1px solid #ccc;padding:5px 10px;border-radius:4px}.note_item--c4399506 .category--6a3e6ca9{display:inline-block;margin-right:10px;padding:0 5px;color:#40a9ff;border:1px solid #40a9ff;border-radius:4px;font-size:12px}.note_item--c4399506 .note_header--670057f0{padding-top:6px;margin-bottom:4px;padding-bottom:8px;border-bottom:1px solid #ccc;font-weight:600}.note_item--c4399506 .note_content--175a6ee7{display:-webkit-box;-webkit-line-clamp:10;-webkit-box-orient:vertical;overflow:hidden;margin-bottom:5px;font-size:14px}.note_item--c4399506 .note_time--a58cc2c2{padding-bottom:6px;font-size:12px;color:#4ad5ba}.header--c113688e .headerOne--8726a211{display:flex;justify-content:space-between;align-items:center;font-size:18px;font-weight:600}.header--c113688e .headerOne--8726a211>span.active--666c6fe8{color:var(--color_active)}.mainContent--8d0953e5{display:flex}.mainContent--8d0953e5 .leftSide--83206a4d{width:150px;flex-shrink:0}.mainContent--8d0953e5 .rightSide--55a13884{flex:1;height:calc(100vh - 250px)}",""]),i.locals={noteModal:"noteModal--c70b1934",note:"note--35317642",wrap:"wrap--29d9e6dd",input:"input--647322e9",pagination:"pagination--74f11464",add_note:"add_note--ed85cc29",addNote:"add_note--ed85cc29",edit_note:"edit_note--ab5a2309",editNote:"edit_note--ab5a2309",delete_note:"delete_note--78ef3855",deleteNote:"delete_note--78ef3855",note_list:"note_list--0d5ab740",noteList:"note_list--0d5ab740",note_item:"note_item--c4399506",noteItem:"note_item--c4399506",active:"active--666c6fe8",note_box:"note_box--32e23135",noteBox:"note_box--32e23135",category:"category--6a3e6ca9",note_header:"note_header--670057f0",noteHeader:"note_header--670057f0",note_content:"note_content--175a6ee7",noteContent:"note_content--175a6ee7",note_time:"note_time--a58cc2c2",noteTime:"note_time--a58cc2c2",header:"header--c113688e",headerOne:"headerOne--8726a211",mainContent:"mainContent--8d0953e5",leftSide:"leftSide--83206a4d",rightSide:"rightSide--55a13884"};let l=i},56592(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".list--a0ee8cdd{position:relative;flex:1;min-height:100%}.list--a0ee8cdd:nth-child(2){flex:1.2;border-left:1px solid var(--border_color);border-right:1px solid var(--border_color)}.list--a0ee8cdd .header--79139c18{display:flex;justify-content:space-between;align-items:center;padding:20px 20px 10px;font-size:18px;font-weight:500;position:-webkit-sticky;position:sticky;top:0;left:0;background-color:var(--bg_color);z-index:3}.list--a0ee8cdd .header--79139c18>span.active--5ef72244{color:var(--color_active)}.list--a0ee8cdd .isOnlyShowDoing--bdac7e0b{color:red;background-color:rgba(0,0,0,0);border-color:red}.list--a0ee8cdd .isOnlyShowDoing--bdac7e0b:hover{color:#000;background-color:red}.list--a0ee8cdd .OneDayListWrap--16988ff5{height:calc(100% - 75px);padding:0 20px}.list--a0ee8cdd .oneDay--bd05bf20{margin-bottom:8px}.list--a0ee8cdd .oneDay--bd05bf20 .time--468f3d66{display:flex;justify-content:space-between;margin-bottom:8px;border-bottom:1px solid var(--border_color)}.list--a0ee8cdd .oneDay--bd05bf20 .time--468f3d66.today--138809b2{color:var(--color_active)}.list--a0ee8cdd .oneDay--bd05bf20 .time--468f3d66.previously--7cb50ac0{color:red}.list--a0ee8cdd .oneDay--bd05bf20 .time--468f3d66.future--3a4663e5{color:#52d19c}",""]),i.locals={list:"list--a0ee8cdd",header:"header--79139c18",active:"active--5ef72244",isOnlyShowDoing:"isOnlyShowDoing--bdac7e0b",OneDayListWrap:"OneDayListWrap--16988ff5",oneDayListWrap:"OneDayListWrap--16988ff5",oneDay:"oneDay--bd05bf20",time:"time--468f3d66",today:"today--138809b2",previously:"previously--7cb50ac0",future:"future--3a4663e5"};let l=i},19753(e,t,r){r.d(t,{A:()=>l});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".list--747c0f6c{position:relative;flex:1;min-height:100%;padding:0 20px}.list--747c0f6c:nth-child(2){flex:1.2;border-left:1px solid var(--border_color);border-right:1px solid var(--border_color)}.list--747c0f6c .header--a3af47a2{position:-webkit-sticky;position:sticky;top:0;left:0;background-color:var(--bg_color);display:flex;justify-content:space-between;align-items:center;padding:10px 0 5px;font-size:18px;font-weight:600}.list--747c0f6c .header--a3af47a2>span.active--fa857f90{color:var(--color_active)}.list--747c0f6c .oneDay--4e410aff{margin-bottom:8px}.list--747c0f6c .oneDay--4e410aff .time--4ec74e5a{margin-bottom:8px;border-bottom:1px solid var(--border_color)}.list--747c0f6c .oneDay--4e410aff .time--4ec74e5a.today--8c4b568c{color:var(--color_active)}.list--747c0f6c .oneDay--4e410aff .time--4ec74e5a.previously--98e43a7d{color:red}.list--747c0f6c .oneDay--4e410aff .time--4ec74e5a.future--c15d105a{color:gray}",""]),i.locals={list:"list--747c0f6c",header:"header--a3af47a2",active:"active--fa857f90",oneDay:"oneDay--4e410aff",time:"time--4ec74e5a",today:"today--8c4b568c",previously:"previously--98e43a7d",future:"future--c15d105a"};let l=i},52160(e,t,r){r.r(t),r.d(t,{default:()=>nv});var n,o,a=r(74848),i=r(96540),l=r(85072),c=r.n(l),s=r(97825),u=r.n(s),d=r(77659),f=r.n(d),p=r(55056),b=r.n(p),h=r(10540),y=r.n(h),m=r(41113),v=r.n(m),g=r(64962),x={};x.styleTagTransform=v(),x.setAttributes=b(),x.insert=f().bind(null,"head"),x.domAPI=u(),x.insertStyleElement=y(),c()(g.A,x);let j=g.A&&g.A.locals?g.A.locals:void 0;var w=r(7216),A=r(98052),S=r(31181),k=r(38643),O={};O.styleTagTransform=v(),O.setAttributes=b(),O.insert=f().bind(null,"head"),O.domAPI=u(),O.insertStyleElement=y(),c()(k.A,O);let T=k.A&&k.A.locals?k.A.locals:void 0;var C=r(74353),I=r.n(C),_=r(89546);function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=(D(o={},_.Vj.todo,"todo"),D(o,_.Vj.done,"done"),o),N=r(14798),P=function(e){return e.reduce(function(e,t){return e[t.time]=void 0===e[t.time]?[t]:e[t.time].concat(t),e},{})},L=["日","一","二","三","四","五","六"],M=function(e){return"周".concat(L[I()(e).day()])},F=function(e){if(!e)return"";var t=(0,N.ao)(e).diff((0,N.ao)(I()()),"d");return 0===t?"今天":-1===t?"昨天":-2===t?"前天":1===t?"明天":2===t?"后天":"".concat(Math.abs(t)," 天").concat(t<0?"前":"后")},z="优先级",B=function(e){var t=[];return("1"===e.isTarget||e.name.includes("打卡"))&&t.push("target"),"1"===e.isNote&&t.push("note"),"1"===e.isBookMark&&t.push("bookMark"),"1"===e.isDirectory&&t.push("directory"),"1"===e.isFollowUp&&t.push("followUp"),t.push(E[e.status]),t},W=0,Y=r(11344),U=r(50400);function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function V(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}}var K=((n={})[n.todo=0]="todo",n[n.after=1]="after",n[n.done=2]="done",n[n.target=3]="target",n[n.directory=4]="directory",n[n.bookmark=5]="bookmark",n[n.footprint=6]="footprint",n[n.followUp=7]="followUp",n),$=function(e){return V(e).sort(function(e,t){return((null==t?void 0:t.mTime)?new Date(t.mTime).getTime():0)-((null==e?void 0:e.mTime)?new Date(e.mTime).getTime():0)})},H=function(e){return V(e).sort(function(e,t){return Number(e.color)-Number(t.color)})},q=function(e){var t,r=(t=(0,i.useState)(e&&"true"===localStorage.getItem(e)||!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(t,2)||G(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],o=r[1];return{isSortTime:n,setIsSortTime:function(t){o(t),e&&localStorage.setItem(e,String(t))},handleSortTime:$,handleSortByColor:H}};let J=function(e){var t=e.isSortTime,r=e.setIsSortTime;return(0,a.jsx)(A.A,{title:t?"当前按照更新时间倒序排序":"当前按照重要程度倒序排序",children:(0,a.jsx)(U.Ay,{onClick:function(){return r(!t)},type:t?"primary":"default",icon:(0,a.jsx)(Y.A,{})})})};var Q=r(23740),Z=r(50917),X=r(68440),ee=r(7691),et=r(38518),er={};er.styleTagTransform=v(),er.setAttributes=b(),er.insert=f().bind(null,"head"),er.domAPI=u(),er.insertStyleElement=y(),c()(et.A,er);let en=et.A&&et.A.locals?et.A.locals:void 0;var eo=r(42700),ea={};ea.styleTagTransform=v(),ea.setAttributes=b(),ea.insert=f().bind(null,"head"),ea.domAPI=u(),ea.insertStyleElement=y(),c()(eo.A,ea);let ei=eo.A&&eo.A.locals?eo.A.locals:void 0;var el=r(59216),ec=r(36296),es=r(88996);function eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let ed=function(e){var t,r=e.todoList,n=e.startTime,o=(null==r?void 0:r.map(function(e){return e.time}))||[],l=function(e){return(null==s?void 0:s.get("M"))===e.get("M")},c=(t=(0,i.useState)(I()()),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eu(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eu(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],u=c[1],d=I()(n),f=I()();return(0,a.jsx)("div",{className:ei.calendarWrapper,children:(0,a.jsx)(el.A,{fullscreen:!1,onChange:function(e){return u(e)},disabledDate:function(e){return e.isBefore(d)||e.isAfter(f)},dateFullCellRender:function(e){if(e.isAfter(d)&&e.isBefore(I()())){var t=o.includes(e.format("YYYY-MM-DD")),r=e.format("YYYY-MM-DD")===I()().format("YYYY-MM-DD");return(0,a.jsx)("div",{className:"".concat(ei.cell,"\n                                    ").concat(!l(e)&&ei.notThisMonth," \n                                    ").concat(t?ei.green:r?ei.blue:ei.red),children:e.get("D")})}return e.isBefore(f)&&e.isAfter(I()())?(0,a.jsx)("div",{className:"".concat(ei.cell," \n                                ").concat(!l(e)&&ei.notThisMonth," ").concat(ei.blueBorder),children:e.get("D")}):(0,a.jsx)("div",{className:ei.cell,children:e.get("D")})},headerRender:function(e){var t=e.value,r=e.onChange,n=t.year(),o=t.month();return(0,a.jsx)("div",{style:{padding:8},children:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,a.jsx)("div",{onClick:function(){r(t.clone().month(o-1))},children:(0,a.jsx)(ec.A,{})}),(0,a.jsxs)("div",{children:[n,"-",o+1]}),(0,a.jsx)("div",{onClick:function(){r(t.clone().month(o+1))},children:(0,a.jsx)(es.A,{})})]})})}})})};var ef=r(31673);function ep(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eb(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function eh(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){eb(a,n,o,i,l,"next",e)}function l(e){eb(a,n,o,i,l,"throw",e)}i(void 0)})}}function ey(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ep(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ep(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function em(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),l=Object.defineProperty;return l(i,"next",{value:c(0)}),l(i,"throw",{value:c(1)}),l(i,"return",{value:c(2)}),"function"==typeof Symbol&&l(i,Symbol.iterator,{value:function(){return this}}),i;function c(l){return function(c){var s=[l,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}let ev=function(e){var t=e.open,r=e.setOpen,n=(0,_.t4)(),o=n.todoColorMap,l=void 0===o?{}:o,c=n.todoColorNameMap,s=void 0===c?{}:c,u=(0,Z.d4)(function(e){return e.data.category}),d=ey((0,i.useState)(),2),f=d[0],p=d[1];(0,i.useEffect)(function(){t&&f&&(M(),j())},[t,f]);var b=(0,Z.d4)(function(e){return e.filter.isWork}),h=ey((0,i.useState)([]),2),y=h[0],m=h[1],v=ey((0,i.useState)(),2),g=v[0],x=v[1];(0,i.useEffect)(function(){t&&0===y.length&&j()},[t,y]);var j=function(){return eh(function(){var e,t,r,n;return em(this,function(o){switch(o.label){case 0:return e={isWork:b,category:f},[4,(0,_.w2)(e)];case 1:return r=(t=o.sent().data).total,n=function(e,t){if(null==e)return{};var r,n,o,a={};if("u">typeof Reflect&&Reflect.ownKeys){for(o=0,r=Reflect.ownKeys(e);o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n]);return a}if(a=function(e,t){if(null==e)return{};var r,n,o={},a=Object.getOwnPropertyNames(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r]);return o}(e,t),Object.getOwnPropertySymbols)for(o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n]);return a}(t,["total"]),x(r),m(w(n)),[2]}})})()},w=function(e){var t=Object.keys(e).reduce(function(t,r){return t.concat(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({color:r,sum:Object.keys(e[r]).reduce(function(t,n){return t+Number(e[r][n])},0)},e[r]))},[]);return t.push(t.reduce(function(e,t){return Object.keys(t).forEach(function(r){e[r]=((null==e?void 0:e[r])||0)+Number(t[r])}),e},{})),t},A=ey((0,i.useState)([]),2),S=A[0],k=A[1],O=function(){for(var e=[],t=I()().get("year");t>=2018;t--)e.push(t);k([{title:"color",dataIndex:"color",key:"color",render:function(e){return(0,a.jsx)("span",{style:{color:l[e]},children:s[e]||"合计"})}}].concat(e.map(function(e){return{title:e+"",dataIndex:e+"",key:e+""}})).concat({title:"sum",dataIndex:"sum",key:"sum"}))};(0,i.useEffect)(function(){t&&0===S.length&&O()},[t,S]);var T=I()().startOf("year").format("YYYY-MM-DD"),C=ey((0,i.useState)(),2),D=C[0],E=C[1],N=ey((0,i.useState)(),2),P=N[0],L=N[1];(0,i.useState)();var M=function(){return eh(function(){var e,t;return em(this,function(r){switch(r.label){case 0:return e={isWork:b,category:f,startTime:T,endTime:I()().format("YYYY-MM-DD"),status:"1"},[4,(0,_.rk)(e)];case 1:return console.log(t=r.sent()),t&&(E(t.data.list),L(t.data.total)),[2]}})})()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.Ay,{onClick:function(){r(!0)},children:"统计面板"}),(0,a.jsxs)(ef.A,{open:t,width:"800px",title:(0,a.jsxs)(a.Fragment,{children:["数据面板(",g,")\xa0",(0,a.jsx)(U.Ay,{onClick:function(){return j()},children:"刷新"})]}),onCancel:function(){return r(!1)},footer:null,children:[(0,a.jsx)("div",{className:en.filter,children:(0,a.jsx)(X.A,{className:en.select,value:f||void 0,placeholder:"类别",onChange:function(e){return p(e)},showSearch:!0,filterOption:function(e,t){var r;return(null!=(r=null==t?void 0:t.label)?r:"").toLowerCase().includes(e.toLowerCase())},allowClear:!0,style:{width:150},options:null==u?void 0:u.map(function(e){return{label:"".concat(e.category," (").concat(e.count,")"),value:e.category}})})}),(0,a.jsx)(ee.A,{columns:S,dataSource:y}),f&&D&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:"今年该类别下的情况："}),(0,a.jsx)(ed,{startTime:T,todoList:D}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:["今年至今 ",I()().diff(T,"day")," 天"]}),(0,a.jsxs)("div",{children:["有记录 ",P," 条"]})]})]})]})]})};var eg=r(76649);let ex=function(e){var t,r;return(0,a.jsx)(_.vl,(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},e),r=r={TodoItemCompent:eg.A},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))};function ej(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ew(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ej(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ej(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let eA=function(e){var t=e.title,r=e.sortKey,n=(0,Z.wA)(),o=n.filter,l=o.setPageNo,c=o.setPageSize,s=(0,Z.d4)(function(e){return e.filter.pageNo}),u=(0,Z.d4)(function(e){return e.filter.pageSize}),d=(0,Z.d4)(function(e){return e.data.doneList}),f=(0,Z.d4)(function(e){return e.data.doneTotal}),p=(0,Z.d4)(function(e){return e.data.doneLoading}),b=n.filter,h=b.setStartEndTime,y=b.setKeyword,m=ew((0,i.useState)({}),2),v=m[0],g=m[1],x=function(){return(0,N.Gq)().format("YYYY-MM-DD")},j=(0,i.useRef)(null),k=(0,Q.A)(j).scrollToTop;(0,i.useEffect)(function(){g(P(d)),k()},[d]);var O=q("".concat(r,"-sort-time")),C=O.isSortTime,D=O.setIsSortTime,E=O.handleSortTime,L=ew((0,i.useState)(!1),2),z=L[0],B=L[1];return(0,a.jsxs)("div",{className:T.list,children:[p&&(0,a.jsx)(_.Rh,{}),(0,a.jsx)("div",{className:T.header,children:(0,a.jsxs)("div",{className:T.header1,children:[(0,a.jsxs)("span",{style:{color:"#1890ffcc"},children:[t,"(",f,")"]}),(0,a.jsxs)(w.A,{children:[(0,a.jsx)(ev,{open:z,setOpen:B}),(0,a.jsx)(J,{isSortTime:C,setIsSortTime:D})]})]})}),(0,a.jsx)("div",{className:"".concat(T.OneDayListWrap," ScrollBar"),ref:j,children:Object.keys(v).map(function(e){var t,r;return(0,a.jsxs)("div",{className:T.oneDay,children:[(0,a.jsx)("div",{className:"".concat(T.time," ").concat(e===x()?T.today:e>x()?T.future:""),children:(0,a.jsx)(A.A,{placement:"right",title:"点击只查看这一天的todo",children:(0,a.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){y(""),h([I()(e),I()(e)])},children:[e,"\xa0 (",M(e),"，",F(e),")",(null==(t=v[e])?void 0:t.length)>6?" ".concat(null==(r=v[e])?void 0:r.length):null]})})}),(0,a.jsx)(ex,{todoList:C?E(v[e]):v[e]})]},e)})}),(0,a.jsx)(S.A,{className:T.pagination,current:s,total:f,onChange:function(e,t){l(e),t&&(c(t),localStorage.setItem("todoDonePageSize",String(t)))},pageSize:u,pageSizeOptions:["15","20","25","50"]})]})};var eS=r(17063),ek=r(17125),eO=r(69388),eT=r(4155),eC=r(85070),eI={};eI.styleTagTransform=v(),eI.setAttributes=b(),eI.insert=f().bind(null,"head"),eI.domAPI=u(),eI.insertStyleElement=y(),c()(eC.A,eI);let e_=eC.A&&eC.A.locals?eC.A.locals:void 0;var eD=r(51643),eE=r(61646),eN=r(54648),eP={};eP.styleTagTransform=v(),eP.setAttributes=b(),eP.insert=f().bind(null,"head"),eP.domAPI=u(),eP.insertStyleElement=y(),c()(eN.A,eP);let eL=eN.A&&eN.A.locals?eN.A.locals:void 0;var eM=r(50886),eF={};eF.styleTagTransform=v(),eF.setAttributes=b(),eF.insert=f().bind(null,"head"),eF.domAPI=u(),eF.insertStyleElement=y(),c()(eM.A,eF);let ez=eM.A&&eM.A.locals?eM.A.locals:void 0;var eB=r(38623),eW=r(44022),eY=r(46029),eU=r(34064),eR=eT.A.TextArea;let eV=function(e){var t=e.value,r=void 0===t?"":t,n=e.onChange,o=void 0===n?function(){}:n,i=e.isShowMD,l=e.isCanEdit,c=void 0===l||l,s=r.split(_.MK),u=function(e,t){s[t]=e,o(s.join(_.MK).replaceAll("\n\n\n\n\n",_.MK))},d=function(e){s.splice(e,1),o(s.join(_.MK))},f=(0,Z.d4)(function(e){return e.filter.keyword});return(0,a.jsxs)("div",{className:ez.inputList,children:[(void 0===i||i)&&(0,a.jsxs)("div",{className:ez.mdShowWrapper,children:[(0,a.jsx)("div",{className:ez.mdShowTitle,children:"markdown 预览区"}),(0,a.jsx)("div",{className:ez.mdShow,children:(0,a.jsx)(_.Dr,{keyword:f,todoDescription:r||""})})]}),(0,a.jsxs)(w.A,{size:4,orientation:"vertical",className:ez.rightSide,children:[(0,a.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center"},children:[(0,a.jsx)(U.Ay,{style:{flex:1},icon:(0,a.jsx)(eB.A,{}),onClick:function(){return o("".concat(_.MK).concat(r))},children:"增加描述"}),(0,a.jsx)(eU.A,{style:{margin:"0 10px"},text:r,icon:(0,a.jsx)(eW.A,{})}),(0,a.jsx)(U.Ay,{danger:!0,onClick:function(){return o("")},icon:(0,a.jsx)(eY.A,{})})]}),null==s?void 0:s.map(function(e,t){return(0,a.jsxs)("div",{className:ez.inputItem,children:[(0,a.jsx)(eR,{className:ez.textarea,placeholder:"补充以及具体描述",autoSize:{minRows:5},allowClear:!0,value:e,onChange:function(e){return u(e.target.value,t)},disabled:!c}),s.length>1&&(0,a.jsx)(eY.A,{className:ez.deleteIcon,style:{color:"red"},onClick:function(){return d(t)}})]},t)})]})]})};var eG=r(94522),eK={};eK.styleTagTransform=v(),eK.setAttributes=b(),eK.insert=f().bind(null,"head"),eK.domAPI=u(),eK.insertStyleElement=y(),c()(eG.A,eK);let e$=eG.A&&eG.A.locals?eG.A.locals:void 0;var eH=r(19678),eq={};eq.styleTagTransform=v(),eq.setAttributes=b(),eq.insert=f().bind(null,"head"),eq.domAPI=u(),eq.insertStyleElement=y(),c()(eH.A,eq);let eJ=eH.A&&eH.A.locals?eH.A.locals:void 0;function eQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eZ(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function eX(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){eZ(a,n,o,i,l,"next",e)}function l(e){eZ(a,n,o,i,l,"throw",e)}i(void 0)})}}function e0(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}function e1(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function e2(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eQ(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e5(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),l=Object.defineProperty;return l(i,"next",{value:c(0)}),l(i,"throw",{value:c(1)}),l(i,"return",{value:c(2)}),"function"==typeof Symbol&&l(i,Symbol.iterator,{value:function(){return this}}),i;function c(l){return function(c){var s=[l,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var e4=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return eX(function(){var r,n,o;return e5(this,function(a){switch(a.label){case 0:return r=e.slice(0,t?50:15).map(function(e){return e.todo_id}),[4,(0,_.z6)({todoIdList:r})];case 1:if(n=a.sent())return o=e6(e),[2,n.data.map(function(e){return e1(e0({},e),{edit_time:o[e.todo_id]})}).sort(function(t,r){return e.findIndex(function(e){return e.todo_id===t.todo_id})-e.findIndex(function(e){return e.todo_id===r.todo_id})})];return[2,[]]}})})()},e6=function(e){return e.reduce(function(e,t){return e[t.todo_id]=t.edit_time,e},{})};let e3=function(e){var t=e.visible,r=e2((0,i.useState)(!1),2),n=r[0],o=r[1],l=e2((0,i.useState)([]),2),c=l[0],s=l[1],u=e2((0,i.useState)(0),2),d=u[0],f=u[1],p=e2((0,i.useState)(!1),2),b=p[0],h=p[1],y=e2((0,i.useState)("local"),2),m=y[0],v=y[1];(0,i.useEffect)(function(){t&&"local"===m&&g(),t&&"remote"===m&&j()},[t,b,m]);var g=function(){return eX(function(){var e;return e5(this,function(t){switch(t.label){case 0:if(o(!0),f((e=(0,_.Em)()).length),0===e.length)return[3,2];return[4,e4(e,b)];case 1:s(t.sent()),t.label=2;case 2:return o(!1),[2]}})})()},x=function(e){var t;return I()(e).isSame(I()(),"d")?null==(t=e.split(" "))?void 0:t[1]:e},j=function(){return eX(function(){var e,t;return e5(this,function(r){switch(r.label){case 0:return e={pageNo:1,pageSize:30,sortBy:[["mTime","DESC"]]},[4,(0,_.rk)(e)];case 1:return(t=r.sent())&&(s(t.data.list.map(function(e){return e1(e0({},e),{edit_time:e.mTime||""})})),f(t.data.total)),[2]}})})()};return(0,a.jsxs)("div",{className:eJ.footprint,children:[n&&(0,a.jsx)(_.Rh,{}),(0,a.jsxs)("div",{className:eJ.header,children:[(0,a.jsxs)("span",{children:["足迹 (",d,")"]}),(0,a.jsxs)(w.A,{children:[(0,a.jsx)(U.Ay,{onClick:function(){return v(function(e){return"local"===e?"remote":"local"})},children:"local"===m?"本地":"远端"}),"local"===m&&d>15&&(0,a.jsxs)(U.Ay,{className:eJ.showAll,onClick:function(){return h(function(e){return!e})},type:b?"primary":"default",children:["show All (max: ",b?50:15,")"]})]})]}),(0,a.jsx)(w.A,{className:"".concat(eJ.content," ScrollBar"),orientation:"vertical",size:10,children:null==c?void 0:c.map(function(e){return(0,a.jsxs)("div",{className:eJ.item,children:[(0,a.jsx)("div",{className:eJ.time,children:x(e.edit_time)}),(0,a.jsx)(eg.A,{item:e,showTime:!0})]},e.todo_id)})})]})};function e8(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e9(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function e7(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){e9(a,n,o,i,l,"next",e)}function l(e){e9(a,n,o,i,l,"throw",e)}i(void 0)})}}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e8(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),l=Object.defineProperty;return l(i,"next",{value:c(0)}),l(i,"throw",{value:c(1)}),l(i,"return",{value:c(2)}),"function"==typeof Symbol&&l(i,Symbol.iterator,{value:function(){return this}}),i;function c(l){return function(c){var s=[l,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}let tr=function(e){var t=e.visible,r=e.handleClose,n=e.value,o=e.onChange,l=e.activeTodo,c=te((0,i.useState)([]),2),s=c[0],u=c[1],d=te((0,i.useState)(!1),2),f=d[0],p=d[1],b=(0,Z.d4)(function(e){return e.data.directoryListOrigin});(0,i.useEffect)(function(){!s.find(function(e){return e.todo_id===n})&&n&&(0,_.Nr)(n).then(function(e){e.data&&u(function(t){return[e.data].concat(t)})})},[n]);var h=te((0,i.useState)(""),2),y=h[0],m=h[1],v=te((0,i.useState)(1),2),g=v[0],x=v[1],j=te((0,i.useState)(0),2),w=j[0],A=j[1],k=te((0,i.useState)("footprint"),2),O=k[0],T=k[1];(0,i.useEffect)(function(){t&&C()},[O,g,t]);var C=function(){return e7(function(){return tt(this,function(e){switch(e.label){case 0:if(p(!0),"chain"!==O)return[3,2];return[4,e7(function(){var e;return tt(this,function(t){switch(t.label){case 0:if(!n)return[3,2];return[4,(0,_.IJ)(n)];case 1:(e=t.sent())?u(e.data):ek.Ay.error("获取 todo chain 失败"),t.label=2;case 2:return[2]}})})()];case 1:case 3:case 5:return e.sent(),[3,8];case 2:if("footprint"!==O)return[3,4];return[4,e7(function(){return tt(this,function(e){switch(e.label){case 0:return[4,e4((0,_.Em)())];case 1:return u(e.sent().filter(function(e){return -1!==e.name.toLowerCase().indexOf(y.toLowerCase())||-1!==e.description.toLowerCase().indexOf(y.toLowerCase())})),[2]}})})()];case 4:if("category"!==O)return[3,6];return[4,e7(function(){return tt(this,function(e){return u(b.filter(function(e){return e.todo_id!==(null==l?void 0:l.todo_id)&&(-1!==e.name.toLowerCase().indexOf(y.toLowerCase())||-1!==e.description.toLowerCase().indexOf(y.toLowerCase()))})),[2]})})()];case 6:return[4,e7(function(){var e,t,r;return tt(this,function(n){switch(n.label){case 0:return e=["mTime","DESC"],"time"===O&&(e=["time","DESC"]),"mTime"===O&&(e=["mTime","DESC"]),"cTime"===O&&(e=["cTime","DESC"]),t={keyword:y,pageNo:g,pageSize:15,sortBy:[e]},""===y&&(t.status="0"),[4,(0,_.rk)(t)];case 1:return(r=n.sent())?(u(r.data.list.filter(function(e){return e.todo_id!==(null==l?void 0:l.todo_id)})),A(r.data.total)):ek.Ay.error("获取 todolist 失败"),[2]}})})()];case 7:e.sent(),e.label=8;case 8:return p(!1),[2]}})})()};return(0,a.jsxs)(ef.A,{title:"选择前置 Todo",open:t,width:700,className:e$.modal,onCancel:r,footer:!["footprint","category","chain"].includes(O)&&(0,a.jsx)(S.A,{className:e$.pagination,current:g,pageSize:15,total:w,showTotal:function(e){return"共 ".concat(e," 条")},onChange:function(e){return x(e)}}),children:[f&&(0,a.jsx)(_.Rh,{}),(0,a.jsx)(eT.A,{className:e$.input,value:y,onChange:function(e){return m(e.target.value)},onPressEnter:function(){return C()}}),(0,a.jsx)(eD.Ay.Group,{style:{marginBottom:10},defaultValue:"footprint",onChange:function(e){return T(e.target.value)},buttonStyle:"solid",optionType:"button",options:(n?[{label:"当前 chain",value:"chain"}]:[]).concat([{label:"足迹",value:"footprint"},{label:"知识目录",value:"category"},{label:"修改时间",value:"mTime"},{label:"创建时间",value:"cTime"}])}),(0,a.jsx)("div",{className:"".concat(e$.content," ScrollBar"),children:["category","chain"].includes(O)?(0,a.jsx)(ex,{todoList:s,onClick:function(e){o(e),r()},getTodoItemProps:function(){return{keyword:y}}}):null==s?void 0:s.map(function(e){return(0,a.jsx)("div",{onClick:function(){o(e),r()},className:e$.todoItem,children:(0,a.jsx)(eg.A,{item:e,placement:"left",onlyShow:!0,showTime:!0,showTimeRange:!0})},e.todo_id)})})]})};var tn=r(19791);function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ta(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return to(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return to(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let ti=function(e){var t=e.value,r=e.onChange,n=e.activeTodo,o=ta((0,i.useState)(!1),2),l=o[0],c=o[1],s=ta((0,i.useState)(),2),u=s[0],d=s[1];(0,i.useEffect)(function(){t&&(!u||(null==u?void 0:u.todo_id)!==t)&&(c(!0),(0,_.Nr)(t).then(function(e){e.data&&d(e.data),c(!1)}))},[t]);var f=ta((0,i.useState)(!1),2),p=f[0],b=f[1];return(0,a.jsxs)(a.Fragment,{children:[t?u&&!l?(0,a.jsxs)(w.A,{size:8,className:eL.space,children:[(0,a.jsx)(U.Ay,{className:eL.nowTodo,onClick:function(){b(!0)},children:(0,a.jsx)(eg.A,{item:u,placement:"left",onlyShow:!0,showTimeRange:!0})}),(0,a.jsx)(U.Ay,{icon:(0,a.jsx)(tn.A,{}),type:"primary",danger:!0,onClick:function(){return r("")}})]}):(0,a.jsx)(_.Rh,{}):(0,a.jsx)(U.Ay,{onClick:function(){return b(!0)},children:"点击选择前置 todo"}),(0,a.jsx)(tr,{value:t,onChange:function(e){d(e),r(e.todo_id)},visible:p,handleClose:function(){b(!1)},activeTodo:n})]})};function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tl(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let ts=function(e){var t=e.value,r=e.onChange,n=e.category,o=tc((0,i.useState)(),2),l=o[0],c=o[1],s=tc((0,i.useState)(n),2),u=s[0],d=s[1],f=tc((0,i.useState)(n),2),p=f[0],b=f[1];return(0,i.useEffect)(function(){d(n)},[n]),(0,i.useEffect)(function(){l?b(u.filter(function(e){return e.category.toLowerCase().includes(l.toLowerCase())})):b(u)},[l]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eT.A,{placeholder:"筛选类别，回车快速选中第一个，没有待选则新增类别",value:l,onChange:function(e){return c(e.target.value)},onPressEnter:function(){if(p.length>0)r(p[0].category);else if(""!==l){var e=n.concat({category:l,count:0});b(e),d(e),r(l)}}}),(0,a.jsx)(eD.Ay.Group,{optionType:"button",buttonStyle:"solid",value:t,onChange:function(e){return r(e)},children:p.map(function(e){return(0,a.jsxs)(eD.Ay.Button,{value:e.category,children:[e.category," (",e.count,")"]},e.category)})})]})};var tu=r(91243),td=r(48181);let tf=function(e){var t=e.value,r=e.onChange,n=F(t);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.Ay,{onClick:function(){return r(t.subtract(1,"day"))},children:(0,a.jsx)(td.A,{})}),(0,a.jsx)(tu.A,{style:{width:130},value:t,onChange:r}),(0,a.jsx)(U.Ay,{onClick:function(){return r(t.add(1,"day"))},children:(0,a.jsx)(eB.A,{})}),(0,a.jsxs)("span",{className:eL.week,children:[M(t),"，",(0,a.jsx)("span",{className:n.includes("今天")?eL.active:n.includes("后")?eL.active2:eL.active1,children:n})]}),(0,a.jsx)("span",{className:"".concat(eL.today," ").concat(I()().subtract(1,"day").isSame(t,"d")?eL.active1:""),onClick:function(){r(I()().subtract(1,"day"))},children:"Yesterday"}),(0,a.jsx)("span",{className:"".concat(eL.today," ").concat(I()().isSame(t,"d")?eL.active:""),onClick:function(){r(I()())},children:"Today"}),(0,a.jsx)("span",{className:"".concat(eL.today," ").concat(I()().add(1,"day").isSame(t,"d")?eL.active2:""),onClick:function(){r(I()().add(1,"day"))},children:"Tomorrow"})]})};var tp=r(66720),tb=r(28676),th={};th.styleTagTransform=v(),th.setAttributes=b(),th.insert=f().bind(null,"head"),th.domAPI=u(),th.insertStyleElement=y(),c()(tb.A,th);let ty=tb.A&&tb.A.locals?tb.A.locals:void 0;var tm=r(36208);function tv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tg(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function tx(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){tg(a,n,o,i,l,"next",e)}function l(e){tg(a,n,o,i,l,"throw",e)}i(void 0)})}}function tj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tv(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tw(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),l=Object.defineProperty;return l(i,"next",{value:c(0)}),l(i,"throw",{value:c(1)}),l(i,"return",{value:c(2)}),"function"==typeof Symbol&&l(i,Symbol.iterator,{value:function(){return this}}),i;function c(l){return function(c){var s=[l,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}let tA=function(e){var t=0,r=e.password,n=e.setPassword,o=e.getDescription,l=e.handleEncode,c=tj((0,i.useState)(!1),2),s=c[0],u=c[1],d=tj((0,i.useState)(),2),f=d[0],p=d[1],b=function(){return tx(function(){var e;return tw(this,function(t){switch(t.label){case 0:if(!r)return[3,2];return[4,(0,_.w)(m,r)];case 1:(e=t.sent())?(l(e),g()):ek.Ay.error("保存失败"),t.label=2;case 2:return[2]}})})()};(0,tm.h)(function(){s&&b()},{options:{capture:!0}});var h=function(){u(!1),t=0},y=tj((0,i.useState)(""),2),m=y[0],v=y[1],g=function(){return tx(function(){var e,t;return tw(this,function(n){switch(n.label){case 0:if(!r)return[3,3];if(!(e=o()))return[3,2];return[4,(0,_.Yc)(e,r)];case 1:return(t=n.sent())?(v(t),p(t),u(!0)):ek.Ay.warning("解码无结果，密码不对"),[3,3];case 2:v(""),p(""),u(!0),n.label=3;case 3:return[2]}})})()},x=tj((0,i.useState)(0),2),j=x[0],w=x[1];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eT.A,{style:{width:150,marginBottom:10},value:r,placeholder:"please input",onChange:function(e){return n(e.target.value)},onPressEnter:function(){r?(sessionStorage.setItem("encodePassword",r),g()):(ek.Ay.warning("请输入密码"),w(j+1),j>=2&&(n(sessionStorage.getItem("encodePassword")||""),w(0)))}}),(0,a.jsx)(ef.A,{className:ty.modal,width:"70vw",style:{minWidth:"1000px"},title:"edit modal",open:s,onOk:b,okText:"保存但不关闭",onCancel:function(){0===t&&f!==m?(ek.Ay.warning("你的修改还没保存，确定取消吗？"),t++):h()},okButtonProps:{danger:f!==m},cancelButtonProps:{disabled:f!==m},children:(0,a.jsx)("div",{style:{paddingRight:10},children:(0,a.jsx)(eV,{value:m,onChange:function(e){v(e),t=0},isShowMD:!0})})})]})};function tS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tS(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let tO=function(e){var t=e.form,r=e.isFieldsChange,n=e.activeTodo,o=e.open,l=e.isOnlyShowTileDescription,c=void 0!==l&&l,s=e.needFocus,u=void 0!==s&&s,d=(0,_.t4)(),f=d.todoColorMap,p=d.todoColorNameMap,b=d.todoDescriptionMap,h=(0,i.useContext)(tp.Rs).username,y=(0,Z.d4)(function(e){return e.data.category}),m=(0,i.useRef)(null);(0,i.useEffect)(function(){if(o){var e;T(),u&&(null==m?void 0:m.current)&&(null==(e=m.current)||e.focus())}},[o,u]);var v=function(e){t.setFieldsValue(e),null==r||r()},g=tk((0,i.useState)(),2),x=g[0],j=g[1],S=tk((0,i.useState)(),2),k=S[0],O=S[1],T=function(){O(t.getFieldValue("isEncode"))};return(0,a.jsx)(eO.A,{className:eL.form,form:t,layout:"vertical",onFieldsChange:function(e){T(),r(e)},children:(0,a.jsxs)("div",{className:eL.wrapper,children:[(0,a.jsxs)("div",{className:eL.left,children:[(0,a.jsx)(eO.A.Item,{name:"name",label:"名称",rules:[{required:!0}],style:{position:"sticky",top:0,zIndex:2,background:"rgb(0, 21, 41)"},children:(0,a.jsx)(eT.A.TextArea,{className:ez.textarea,placeholder:"尽量的量化，有具体的完成指标，任务尽量细致且易完成",ref:m,allowClear:!0,autoSize:{minRows:1,maxRows:4}})}),(0,a.jsx)(eO.A.Item,{name:"description",label:(0,a.jsx)(A.A,{title:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:["1. 分割符为 ",_.MK,", 点击复制"]}),(0,a.jsx)("div",{children:"2. 五个回车可新增输入框"})]}),children:(0,a.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){return(0,_.E)(_.MK)},children:["详细描述 ",(0,a.jsx)(eE.A,{})]})}),initialValue:"",children:(0,a.jsx)(eV,{isShowMD:!c,isCanEdit:"1"!==k})}),e.leftChildren]}),!c&&(0,a.jsxs)("div",{className:eL.right,children:[(0,a.jsx)(eO.A.Item,{label:"预设选项",children:(0,a.jsx)(_._J,{onClick:function(e){return v(e)}})}),(0,a.jsx)(eO.A.Item,{name:"status",label:"状态",rules:[{required:!0}],children:(0,a.jsxs)(eD.Ay.Group,{optionType:"button",buttonStyle:"solid",children:[(0,a.jsx)(eD.Ay.Button,{value:0,children:"待办"}),(0,a.jsx)(eD.Ay.Button,{value:1,children:"已完成"})]})}),(0,a.jsx)(eO.A.Item,{name:"color",label:(0,a.jsxs)(A.A,{placement:"top",title:(0,a.jsx)("pre",{children:null==b?void 0:b.color}),children:[z," ",(0,a.jsx)(eE.A,{})]}),rules:[{required:!0}],children:(0,a.jsx)(eD.Ay.Group,{optionType:"button",buttonStyle:"solid",children:f&&Object.keys(f).map(function(e){return(0,a.jsx)(eD.Ay.Button,{value:e,style:{color:f[e]},className:"".concat(eL.color," ").concat("0"===e?eL.zero:"").concat("1"===e?eL.one:"").concat("2"===e?eL.two:"").concat("3"===e?eL.three:"").concat("4"===e?eL.four:"").concat("-1"===e?eL.minusOne:""),children:null==p?void 0:p[e]},e)})})}),(0,a.jsx)(eO.A.Item,{name:"category",label:"类别",rules:[{required:!0}],children:(0,a.jsx)(ts,{category:y})}),(0,a.jsx)(eO.A.Item,{name:"time",label:"时间",rules:[{required:!0}],children:(0,a.jsx)(tf,{})}),(0,a.jsx)(eO.A.Item,{label:"特殊状态",style:{marginBottom:0},children:(0,a.jsxs)(w.A,{wrap:!0,size:[8,0],children:[(0,a.jsx)(eO.A.Item,{name:"isWork",rules:[{required:!0}],initialValue:"0",children:(0,a.jsx)(_.ln,{type:"isWork"})}),(0,a.jsx)(eO.A.Item,{name:"isShow",rules:[{required:!0}],initialValue:"0",children:(0,a.jsx)(_.ln,{type:"isShow"})}),(0,a.jsx)(eO.A.Item,{name:"isTarget",rules:[{required:!0}],initialValue:"0",children:(0,a.jsx)(_.ln,{type:"isTarget"})}),(0,a.jsx)(eO.A.Item,{name:"isNote",rules:[{required:!0}],initialValue:"0",children:(0,a.jsx)(_.ln,{type:"isNote"})}),(0,a.jsx)(eO.A.Item,{name:"isDirectory",rules:[{required:!0}],initialValue:"0",children:(0,a.jsx)(_.ln,{type:"isDirectory"})}),(0,a.jsx)(eO.A.Item,{name:"isBookMark",rules:[{required:!0}],initialValue:"0",children:(0,a.jsx)(_.ln,{type:"isBookMark"})}),(0,a.jsx)(eO.A.Item,{name:"doing",rules:[{required:!0}],initialValue:"0",children:(0,a.jsx)(_.ln,{type:"doing"})}),(0,a.jsx)(eO.A.Item,{name:"isFollowUp",rules:[{required:!0}],initialValue:"0",children:(0,a.jsx)(_.ln,{type:"isFollowUp"})}),"zyb"===h&&(0,a.jsx)(eO.A.Item,{name:"isEncode",rules:[{required:!0}],initialValue:"0",children:(0,a.jsx)(_.ln,{type:"isEncode"})}),"1"===k&&(0,a.jsx)("div",{children:(0,a.jsx)(tA,{password:x,setPassword:j,getDescription:function(){return t.getFieldValue("description")},handleEncode:function(e){null==t||t.setFieldValue("description",e),null==r||r()}})})]})}),(0,a.jsx)(eO.A.Item,{name:"other_id",label:"前置 todo",children:(0,a.jsx)(ti,{activeTodo:n})}),null==e?void 0:e.rightChildren]})]})})};var tT=r(10003),tC=r(21528),tI=r(60948);function t_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tD(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}let tE=function(e){var t,r=e.todo,n=e.handleFresh,o=e.isOnlyShow,l=e.width,c=void 0===l?"120px":l;(0,i.useEffect)(function(){r&&d(r)},[r]);var s=(t=(0,i.useState)(),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return t_(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=s[0],d=s[1],f=function(){var e;return(e=function(){var e;return function(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),l=Object.defineProperty;return l(i,"next",{value:c(0)}),l(i,"throw",{value:c(1)}),l(i,"return",{value:c(2)}),"function"==typeof Symbol&&l(i,Symbol.iterator,{value:function(){return this}}),i;function c(l){return function(c){var s=[l,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(t){switch(t.label){case 0:if(!(null==r?void 0:r.todo_id))return[3,2];return[4,(0,_.Nr)(r.todo_id)];case 1:d((e=t.sent()).data),null==n||n(e.data),t.label=2;case 2:return[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){tD(a,n,o,i,l,"next",e)}function l(e){tD(a,n,o,i,l,"throw",e)}i(void 0)})})()};return(0,a.jsxs)(a.Fragment,{children:[!(void 0!==o&&o)&&(0,a.jsx)(tC.A,{other_id:null==r?void 0:r.todo_id,type:"todo",refresh:f,width:c}),(0,a.jsx)(tT.A,{type:"todo",width:c,refresh:f,imageList:(null==u?void 0:u.imgList)||[]}),(0,a.jsx)(tI.A,{type:"todo",width:c,refresh:f,fileList:(null==u?void 0:u.fileList)||[]})]})};var tN=function(){var e=(0,Z.d4)(function(e){return e.edit.flag}),t=(0,Z.wA)().edit.setFlag;return{flag:e,updateFlag:function(){t(Math.random())}}},tP=r(66216),tL=r(21517),tM={};tM.styleTagTransform=v(),tM.setAttributes=b(),tM.insert=f().bind(null,"head"),tM.domAPI=u(),tM.insertStyleElement=y(),c()(tL.A,tM);let tF=tL.A&&tL.A.locals?tL.A.locals:void 0;var tz=r(60518),tB=r(89203),tW=r(12667);function tY(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tU(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function tR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tY(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let tV=function(){var e=(0,Z.wA)().data.refreshData,t=tR((0,i.useState)(!1),2),r=t[0],n=t[1],o=(0,Z.d4)(function(e){return e.data.category}),l=tR((0,i.useState)(""),2),c=l[0],s=l[1],u=tR((0,i.useState)(""),2),d=u[0],f=u[1];return(0,a.jsxs)("div",{children:["批量修改类别：",(0,a.jsx)(U.Ay,{onClick:function(){return n(!0)},children:"修改类别"}),(0,a.jsx)(ef.A,{open:r,onCancel:function(){n(!1),s("")},onOk:function(){var t;return(t=function(){var t;return function(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),l=Object.defineProperty;return l(i,"next",{value:c(0)}),l(i,"throw",{value:c(1)}),l(i,"return",{value:c(2)}),"function"==typeof Symbol&&l(i,Symbol.iterator,{value:function(){return this}}),i;function c(l){return function(c){var s=[l,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(r){switch(r.label){case 0:if(!c)return ek.Ay.warning("请选择旧类别",1),[2];if(!d.trim())return ek.Ay.warning("请输入新类别名称, 不能只有空格",1),[2];return[4,(0,_.T8)({category:c,newCategory:d})];case 1:return(null==(t=r.sent())?void 0:t.resultsCode)==="success"&&(e(),ek.Ay.success("修改成功",1),n(!1),s("")),[2]}})},function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(e){tU(a,n,o,i,l,"next",e)}function l(e){tU(a,n,o,i,l,"throw",e)}i(void 0)})})()},destroyOnHidden:!0,children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"旧类别："}),(0,a.jsx)(eD.Ay.Group,{value:c,onChange:function(e){return s(e.target.value)},options:o.map(function(e){return{label:e.category,value:e.category}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"新类别名称："}),(0,a.jsx)(eT.A,{type:"text",value:d,onChange:function(e){return f(e.target.value)}})]})]})})]})};function tG(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tG(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let t$=function(e){var t=(0,Z.d4)(function(e){return e.data.category}),r=(0,Z.d4)(function(e){return e.filter.activeCategory}),n=(0,Z.d4)(function(e){return e.filter.startEndTime}),o=(0,Z.d4)(function(e){return e.filter.isTarget}),l=(0,Z.d4)(function(e){return e.filter.isNote}),c=(0,Z.d4)(function(e){return e.filter.isDirectory}),s=(0,Z.d4)(function(e){return e.filter.isEncode}),u=(0,i.useContext)(tp.Rs).username,d=(0,Z.wA)().filter,f=d.setActiveCategory,p=d.setStartEndTime,b=d.setIsNote,h=d.setIsTarget,y=d.setisDirectory,m=d.setIsEncode,v=tK((0,i.useState)("day"),2),g=v[0],x=v[1],j=function(e){console.log("timeType",g),"year"===g?p([e[0].startOf("year"),e[1].endOf("year")]):"month"===g?p([e[0].startOf("month"),e[1].endOf("month")]):p(e)},A=function(e,t){var r=n[0],o=n[1];"start"===t?r="add"===e?r.add(1,g):r.subtract(1,g):o="add"===e?o.add(1,g):o.subtract(1,g),p([r,o])},S=function(e){if(!n)return void x(e);var t=n,r=n[0],o=n[1];"year"===e&&(t=[r.startOf("year"),o.endOf("year")]),"month"===e&&("day"===g&&(t=[r.startOf("month"),o.endOf("month")]),"year"===g&&(t=[r.startOf("year"),o.endOf("year")])),"day"===e&&("month"===g&&(t=[r.startOf("month"),o.endOf("month")]),"year"===g&&(t=[r.startOf("year"),o.endOf("year")])),p(t),x(e)},k=tK((0,i.useState)(),2),O=k[0],T=k[1],C=tK((0,i.useState)(t),2),D=C[0],E=C[1];(0,i.useEffect)(function(){O?E(t.filter(function(e){return e.category.toLowerCase().includes(O.toLowerCase())})):E(t)},[O,t]);var N=function(e){f(r.includes(e.category)?r.filter(function(t){return t!==e.category}):r.concat(e.category))};return(0,a.jsxs)(a.Fragment,{children:[e.isSimple&&(0,a.jsx)(w.A,{children:null==r?void 0:r.map(function(e){return(0,a.jsx)(U.Ay,{size:"small",onClick:function(){return f(r.filter(function(t){return t!==e}))},children:e},e)})}),!e.isSimple&&(0,a.jsxs)("div",{className:tF.filterWrapper,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(w.A,{children:[(0,a.jsx)("span",{children:"类别筛选："}),(0,a.jsx)(eT.A,{width:"250px",value:O,onChange:function(e){return T(e.target.value)},onPressEnter:function(){0!==D.length&&N(D[0])},placeholder:"筛选类别，回车快速选中第一个"})]}),(0,a.jsx)(tz.A.Group,{value:r,children:(0,a.jsx)(w.A,{wrap:!0,children:null==D?void 0:D.map(function(e){return(0,a.jsxs)(tz.A,{value:e.category,style:{color:"white"},onClick:function(){console.log("activeCategory",r),N(e)},children:[e.category," (",e.count,")"]},e.category)})})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"时间："}),(null==n?void 0:n[0])&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.Ay,{icon:(0,a.jsx)(td.A,{}),onClick:function(){return A("subtract","start")}}),(0,a.jsx)(U.Ay,{icon:(0,a.jsx)(eB.A,{}),onClick:function(){return A("add","start")}})]}),"day"===g&&(0,a.jsx)(tu.A.RangePicker,{style:{width:250},value:n,onChange:function(e){return j(e)},placeholder:["开始时间","结束时间"],ranges:{Today:[I()(),I()()],这周至今:[I()().startOf("week"),I()()],一周内:[I()().subtract(1,"week"),I()()],这月至今:[I()().startOf("month"),I()()],今年至今:[I()().startOf("year"),I()()]}}),"month"===g&&(0,a.jsx)(tu.A.RangePicker,{style:{width:200},picker:"month",value:n,onChange:function(e){return j(e)},placeholder:["开始时间","结束时间"],ranges:{这个月:[I()().startOf("month"),I()().endOf("month")],上个月:[I()().startOf("month").subtract(1,"month"),I()().endOf("month").subtract(1,"month")],上上个月:[I()().startOf("month").subtract(2,"month"),I()().endOf("month").subtract(2,"month")]}}),"year"===g&&(0,a.jsx)(tu.A.RangePicker,{style:{width:200},picker:"year",value:n,onChange:function(e){return j(e)},placeholder:["开始时间","结束时间"],ranges:{今年:[I()().startOf("year"),I()().endOf("year")],去年:[I()().startOf("year").subtract(1,"y"),I()().endOf("year").subtract(1,"y")],前年:[I()().startOf("year").subtract(2,"y"),I()().endOf("year").subtract(2,"y")]}}),(null==n?void 0:n[1])&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.Ay,{icon:(0,a.jsx)(td.A,{}),onClick:function(){A("subtract","end")}}),(0,a.jsx)(U.Ay,{icon:(0,a.jsx)(eB.A,{}),onClick:function(){A("add","end")}})]})]}),(0,a.jsxs)(w.A,{style:{marginTop:8,paddingLeft:42},children:[(0,a.jsxs)(eD.Ay.Group,{value:g,onChange:function(e){S(e.target.value)},children:[(0,a.jsx)(eD.Ay.Button,{value:"year",children:"年"}),(0,a.jsx)(eD.Ay.Button,{value:"month",children:"月"}),(0,a.jsx)(eD.Ay.Button,{value:"day",children:"日"})]}),(0,a.jsxs)("span",{children:["今天是 ",I()().format("YYYY-MM-DD")]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"特殊状态："}),(0,a.jsxs)(w.A,{className:tF.special,size:[8,0],children:[(0,a.jsx)(_.ln,{type:"isTarget",value:o,onChange:h}),(0,a.jsx)(_.ln,{type:"isNote",value:l,onChange:b}),(0,a.jsx)(_.ln,{type:"isDirectory",value:c,onChange:y}),"zyb"===u&&(0,a.jsx)(_.ln,{type:"isEncode",value:s,onChange:m})]})]}),(0,a.jsx)(tV,{})]})]})};function tH(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tH(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tJ=function(){var e=(0,_.t4)();return function(){return{name:"",description:"",time:I()(),status:_.Vj.todo,color:String((null==e?void 0:e.todoDefaultColor)||"3"),category:"个人",doing:"0",isNote:"0",isTarget:"0",isBookMark:"0",isWork:"0",isDirectory:"0",isEncode:"0",isFollowUp:"0",isShow:"0",other_id:""}}};let tQ=function(){var e=(0,_.t4)(),t=e.todoColorMap,r=e.todoColorNameMap,n=(0,Z.d4)(function(e){return e.edit.form}),o=(0,Z.d4)(function(e){return e.filter.activeColor}),l=(0,Z.d4)(function(e){return e.filter.activeCategory}),c=(0,Z.d4)(function(e){return e.filter.startEndTime}),s=(0,Z.d4)(function(e){return e.filter.isWork}),u=(0,Z.d4)(function(e){return e.filter.keyword}),d=(0,Z.d4)(function(e){return e.filter.pageNo}),f=(0,Z.d4)(function(e){return e.filter.pageSize}),p=(0,Z.d4)(function(e){return e.filter.isTarget}),b=(0,Z.d4)(function(e){return e.filter.isNote}),h=(0,Z.d4)(function(e){return e.filter.isDirectory}),y=(0,Z.d4)(function(e){return e.filter.isEncode}),m=(0,Z.wA)(),v=m.edit,g=v.setShowEdit,x=v.setOperatorType,j=v.setActiveTodo,S=m.data,k=S.refreshData,O=S.handleSearch,T=m.filter,C=T.setKeyword,I=T.handleClear,D=T.setIsWork,E=T.setActiveColor,N=tJ(),P=function(){var e,t;j(void 0),x("add"),g(!0),null==n||n.setFieldsValue((e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},N()),t=t={category:"1"===s?"公司":N().category,isWork:s||"0"},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e))};(0,i.useEffect)(function(){O(void 0)},[u,o,l,c,s,d,f,p,b,h,y]),(0,i.useEffect)(function(){("1"===h||"1"===p||"1"===y)&&F(!0)},[h,p,y]);var L=tq((0,i.useState)(!1),2),M=L[0],F=L[1],B=tq((0,i.useState)(),2),W=B[0],Y=B[1];return(0,a.jsxs)(w.A,{orientation:"vertical",style:{padding:"10px 20px",borderBottom:"1px solid #ccc"},children:[(0,a.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,a.jsxs)(w.A,{children:[(0,a.jsxs)(U.Ay,{onClick:function(){return P()},children:[(0,a.jsx)(eB.A,{}),"todo"]}),(0,a.jsx)(U.Ay,{onClick:function(){return k()},type:"primary",children:(0,a.jsx)(tB.A,{})}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.A,{title:"开启 Work 模式",children:(0,a.jsx)(U.Ay,{type:"text",onClick:function(){return D("1"===s?"":"1")},onContextMenu:function(e){D("0"),e.preventDefault()},icon:(0,a.jsx)(_.YT,{type:"isWork",style:"1"===s?{}:{color:"#00d4d8"}}),style:"1"===s?{borderColor:"#00d4d8",background:"#00d4d8"}:{borderColor:"#00d4d8"}})}),(0,a.jsx)(A.A,{title:"开启 Life 模式",children:(0,a.jsx)(U.Ay,{type:"text",onClick:function(){return D("0"===s?"":"0")},icon:(0,a.jsx)(_.YT,{type:"life",style:"0"===s?{}:{color:"#00d4d8"}}),style:"0"===s?{borderColor:"#00d4d8",background:"#00d4d8"}:{borderColor:"#00d4d8"}})})]}),(0,a.jsxs)(U.Ay,{type:M?"primary":"default",onClick:function(){return F(function(e){return!e})},children:[(0,a.jsx)(tW.A,{}),"Filter"]}),((null==o?void 0:o.length)!==0||(null==l?void 0:l.length)!==0||void 0!==W&&""!==W||!!c||1!==d||"1"===h||"1"===p||"1"===y||M)&&(0,a.jsx)(U.Ay,{icon:(0,a.jsx)(tn.A,{}),type:"primary",danger:!0,onClick:function(){I(void 0),Y(void 0),F(!1)}})]})}),(0,a.jsx)(eT.A.Search,{className:tF.search,value:W,onChange:function(e){Y(e.target.value),e.target.value&&""!==e.target.value||C("")},onSearch:function(){return C(W||"")},enterButton:!0,allowClear:!0,placeholder:"可用空格分词实现一定模糊搜索"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{children:[z,"："]}),(0,a.jsx)(tz.A.Group,{value:o,children:t&&Object.keys(t).map(function(e){return(0,a.jsx)(tz.A,{value:e,onClick:function(){E(o.includes(e)?o.filter(function(t){return t!==e}):o.concat(e))},style:{color:t[e]},className:"".concat(tF.color," ").concat("0"===e?tF.zero:"").concat("1"===e?tF.one:"").concat("2"===e?tF.two:"").concat("3"===e?tF.three:"").concat("4"===e?tF.four:"").concat("-1"===e?tF.minusOne:""),children:null==r?void 0:r[e]},e)})}),(0,a.jsx)(U.Ay,{size:"small",onClick:function(){return E(["0","1","2"])},children:"important"})]}),(0,a.jsx)(t$,{isSimple:!M})]})};function tZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let tX=function(e){var t,r=e.title,n=e.todoChildList,o=e.isEditing,l=void 0!==o&&o,c=(t=(0,i.useState)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tZ(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tZ(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],u=c[1];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:e_.todoChildListTitle,children:[r,!s&&(null==n?void 0:n.length)>4&&(0,a.jsx)(U.Ay,{onClick:function(){u(!0)},size:"small",children:"show all"})]}),(!s?n.slice(0,4):n).map(function(e,t){return(0,a.jsx)(eg.A,{item:e,showTime:!0,showTimeRange:!0,beforeClick:function(){return!l||(ek.Ay.warning("正在编辑，不能切换"),!1)}},t)})]})};var t0=r(28073),t1=r(55021),t2=r(13370),t5={add:"新增",edit:"编辑",copy:"复制",add_child:"添加子任务",add_progress:"新增进度"},t4=function(e){return{name:e.name,time:I()(e.time).format("YYYY-MM-DD"),status:e.status,description:e.description||"",color:e.color,category:e.category,other_id:e.other_id||"",doing:e.doing||"0",isNote:e.isNote||"0",isTarget:e.isTarget||"0",isWork:e.isWork||"0",isBookMark:e.isBookMark||"0",isDirectory:e.isDirectory||"0",isEncode:e.isEncode||"0",isFollowUp:e.isFollowUp||"0",isShow:e.isShow||"0"}};function t6(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function t3(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function t8(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){t3(a,n,o,i,l,"next",e)}function l(e){t3(a,n,o,i,l,"throw",e)}i(void 0)})}}function t9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}function t7(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),l=Object.defineProperty;return l(i,"next",{value:c(0)}),l(i,"throw",{value:c(1)}),l(i,"return",{value:c(2)}),"function"==typeof Symbol&&l(i,Symbol.iterator,{value:function(){return this}}),i;function c(l){return function(c){var s=[l,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}let re=function(e){var t,r,n=e.type,o=e.visible,l=e.activeTodo,c=e.otherTodo,s=e.isEditing,u=e.isEditingOther,d=e.onClose,f=e.createCopyOrNextTask,p=e.setIsEditing,b=e.form,h=e.otherForm,y=e.handleClose,m=e.handleAfterAddTodo,v=e.handleAfterDelete,g=e.handleAfterEditTodo,x=e.handleAfterEditOtherTodo,j=e.handleAfterOk,S=[{label:(null==l?void 0:l.other_id)?"添加同级进度":"复制",tooltip:(null==l?void 0:l.other_id)?"添加的是前置todo的进度，与当前todo挂同样的前置todo":"",key:"add_progress",isShow:!0},{label:"添加后续",tooltip:"添加的是当前 todo 的子任务，当前 todo 作为子任务的前置 todo",key:"add_child",isShow:!0}];(0,tm.h)(function(){o&&C(!1)});var k=(t=(0,i.useState)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return t6(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t6(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),O=k[0],T=k[1],C=function(e){return t8(function(){var t;return t7(this,function(r){switch(r.label){case 0:if(!(o&&(s||u)))return[3,5];if(T(!0),t=!1,"edit"!==n)return[3,2];return[4,D()];case 1:return t=r.sent(),[3,4];case 2:if(!b)return[3,4];return[4,I(b)];case 3:t=r.sent(),r.label=4;case 4:return T(!1),t&&(e&&y(),p(!1)),[3,6];case 5:e&&y(),r.label=6;case 6:return j(),[2]}})})()},I=function(e){return t8(function(){var t,r;return t7(this,function(n){switch(n.label){case 0:if(n.trys.push([0,3,,4]),E(),!s)return[2,!1];return[4,e.validateFields()];case 1:return n.sent(),t=t4(e.getFieldsValue()),[4,(0,_.N7)(t)];case 2:if(r=n.sent())return ek.Ay.success(r.message),m(r.data.newTodoItem),[2,!0];return ek.Ay.error("新增 todo 失败"),[2,!1];case 3:return n.sent(),ek.Ay.warning("请检查表单输入"),[2,!1];case 4:return[2]}})})()},D=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t8(function(){var t,r,n;return t7(this,function(o){switch(o.label){case 0:if(!(null==l?void 0:l.todo_id))return[2,!1];o.label=1;case 1:if(o.trys.push([1,5,,6]),E(),!e&&!s)return[2,!1];if(!b)return[3,3];return[4,b.validateFields()];case 2:o.sent(),o.label=3;case 3:return t=b&&b.getFieldsValue(),r=t9({todo_id:l.todo_id},t4(t)),[4,(0,_._d)(r)];case 4:if(n=o.sent())return ek.Ay.success(n.message),g(t9({},l,r)),[2,!0];return ek.Ay.error("编辑 todo 失败"),[2,!1];case 5:return o.sent(),ek.Ay.warning("请检查表单输入"),[2,!1];case 6:return[2]}})})()},E=function(){return t8(function(){var e,t,r;return t7(this,function(n){switch(n.label){case 0:if(!((null==c?void 0:c.todo_id)&&u))return[3,6];n.label=1;case 1:if(n.trys.push([1,5,,6]),!h)return[3,3];return[4,h.validateFields()];case 2:n.sent(),n.label=3;case 3:var o,a;return e=h&&h.getFieldsValue(),c.child_todo_list,o=t9({},function(e,t){if(null==e)return{};var r,n,o,a={};if("u">typeof Reflect&&Reflect.ownKeys){for(o=0,r=Reflect.ownKeys(e);o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n]);return a}if(a=function(e,t){if(null==e)return{};var r,n,o={},a=Object.getOwnPropertyNames(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r]);return o}(e,t),Object.getOwnPropertySymbols)for(o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n]);return a}(c,["child_todo_list"])),a=a={name:e.name,description:e.description||""},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(a)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(a,e))}),t=o,[4,(0,_._d)(t)];case 4:if(!(r=n.sent()))return ek.Ay.error("编辑 todo 失败"),[2,!1];return ek.Ay.success(r.message),x(),[3,6];case 5:return n.sent(),ek.Ay.warning("请检查表单输入"),[2,!1];case 6:return[2]}})})()};return(0,a.jsxs)("div",{className:e_.footer,children:[(0,a.jsx)(w.A,{children:"edit"===n?(0,a.jsxs)(a.Fragment,{children:[(r=!!s||!!u||!!l&&(!!l.imgList&&0!==l.imgList.length||!!l.fileList&&0!==l.fileList.length||!!l.child_todo_list_length&&0!==l.child_todo_list_length)||!1)?(0,a.jsx)(t0.A,{title:"在有图片/文件、正在编辑、有子 todo 的情况下不允许删除",children:(0,a.jsx)(U.Ay,{danger:!0,disabled:!0,children:"删除"})}):(0,a.jsx)(t1.A,{title:"确定删除吗",disabled:r,onConfirm:function(){var e;e=l,t8(function(){var t,r;return t7(this,function(n){switch(n.label){case 0:if(!(null==e?void 0:e.todo_id))return[3,2];return t={todo_id:e.todo_id},[4,(0,_.Lv)(t)];case 1:(r=n.sent())?(ek.Ay.success(r.message),v(),d()):ek.Ay.error("删除 todo 失败"),n.label=2;case 2:return[2]}})})()},okText:"YES",cancelText:"NO",children:(0,a.jsx)(U.Ay,{danger:!0,children:"删除"})}),S.map(function(e){return e.isShow&&(0,a.jsx)(A.A,{title:e.tooltip,children:(0,a.jsx)(U.Ay,{type:"primary",ghost:Number(null==l?void 0:l.isTarget)?"add_child"!==e.key:"add_progress"!==e.key,onClick:function(){return l&&f(e.key,l)},disabled:s||u,children:e.label})},e.key)}),l&&(0,a.jsx)(t2.A,{item:l})]}):""}),(0,a.jsxs)(w.A,{children:[null==e?void 0:e.children,"edit"===n?(0,a.jsx)(U.Ay,{onClick:function(){return t8(function(){var e,t,r,n,o;return t7(this,function(a){switch(a.label){case 0:return ek.Ay.success("正在将当前 todo 保存为 blog"),t={edittype:"markdown",title:(e=t4(b&&b.getFieldsValue())).name,author:"xiaxiazheng from todo",blogcont:e.description.replaceAll(_.MK,"\n")},[4,(0,_.Ss)(t)];case 1:if(!(r=a.sent()))return[3,3];return ek.Ay.success("新建成功"),n=r.newid,o="".concat(location.origin,"/admin/blog/").concat(btoa(decodeURIComponent(n))),null==b||b.setFieldValue("description","".concat(e.description).concat(_.MK,"已保存到 blog：<").concat(o,">")),[4,D(!0)];case 2:return a.sent(),p(!1),setTimeout(function(){window.open(o)},1e3),[3,4];case 3:ek.Ay.error("新建失败"),a.label=4;case 4:return[2]}})})()},disabled:s,type:"primary",children:"Save as blog"}):"",(0,a.jsx)(U.Ay,{onClick:function(){return d()},children:"Cancel"}),(0,a.jsx)(U.Ay,{type:"primary",danger:s||u,onClick:function(){return C(!0)},loading:O,children:"OK"})]})]})},rt=function(e){var t=e.otherTodo,r=e.isEditing,n=e.isEditingOther,o=e.otherForm,i=e.handleIsFieldChange;return(0,a.jsx)(a.Fragment,{children:t&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:e_.title,children:"前置 Todo："}),(0,a.jsx)("div",{style:{marginBottom:15},children:(0,a.jsx)(eg.A,{item:t,showTime:!0,showTimeRange:!0,beforeClick:function(){return!r&&!n||(ek.Ay.warning("正在编辑，不能切换"),!1)}})}),(0,a.jsx)(tO,{form:o,open:!!t,isFieldsChange:function(){return i()},isOnlyShowTileDescription:!0,leftChildren:(null==t?void 0:t.child_todo_list)&&(0,a.jsx)(tX,{title:"同级别 todo: ".concat(t.child_todo_list_length),todoChildList:t.child_todo_list,isEditing:r||n})})]})})};function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rn(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function ro(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}function ra(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||rc(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rl(e){return function(e){if(Array.isArray(e))return rr(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rc(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rc(e,t){if(e){if("string"==typeof e)return rr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rr(e,t)}}let rs=function(){var e=(0,i.useContext)(tP.Dx).theme,t=(0,Z.d4)(function(e){return e.edit.activeTodo}),r=(0,Z.d4)(function(e){return e.edit.form}),n=(0,Z.d4)(function(e){return e.edit.showEdit}),o=(0,Z.d4)(function(e){return e.edit.operatorType}),l=(0,Z.wA)(),c=l.edit,s=c.setShowEdit,u=c.setOperatorType,d=c.setActiveTodo,f=l.data.refreshData,p=(0,_.t4)(),b=ri((0,i.useState)(),2),h=b[0],y=b[1];(0,i.useEffect)(function(){"edit"===o&&H(void 0)},[o]);var m=ri((0,i.useState)([]),2),v=m[0],g=m[1],x=ri((0,i.useState)([]),2),j=x[0],S=x[1],k=ri((0,i.useState)([]),2),O=k[0],T=k[1];(0,i.useEffect)(function(){if(t){var e;er(t),r&&r.setFieldsValue(ra(ro({},t),{time:I()(t.time),status:Number(t.status)})),J(t.other_id),(0,_.eT)(t.todo_id),t.child_todo_list&&(null==(e=t.child_todo_list)?void 0:e.length)!==0?g(t.child_todo_list):0!==t.child_todo_list_length?(0,_.Nr)(t.todo_id,!0).then(function(e){g(e.data.child_todo_list)}):g([])}else y(void 0);S((null==t?void 0:t.imgList)||[]),T((null==t?void 0:t.fileList)||[])},[t]),(0,i.useEffect)(function(){h&&q&&q.setFieldsValue({name:h.name,description:h.description})},[h]);var C=(0,i.useRef)([]),D=tN().updateFlag,E=function(){C.current&&(0!==C.current.length&&(C.current=Array.from(new Set(C.current)),C.current.map(function(e){f(e)}),C.current=[]),D()),s(!1),d(void 0),null==r||r.resetFields(),H(void 0)},N=ri((0,i.useState)(!1),2),P=N[0],L=N[1],M=function(){(W||R)&&!P?(ek.Ay.warning("你还有修改没保存，确定不要的话再点一次"),L(!0)):(L(!1),Y(!1),V(!1),E())},F=function(e,r){return"edit"===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{style:{color:_.s4.edit},children:[(0,a.jsx)("span",{className:e_.titleClass,style:{backgroundColor:_.s4.edit}})," ",r," "]}),(0,a.jsx)(A.A,{placement:"bottom",title:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:["创建时间：",null==t?void 0:t.cTime]}),(0,a.jsxs)("div",{children:["编辑时间：",null==t?void 0:t.mTime]})]}),children:(0,a.jsx)(eE.A,{style:{cursor:"pointer",marginLeft:5}})})]}):(0,a.jsxs)("span",{style:{color:_.s4.add},children:[(0,a.jsx)("span",{className:e_.titleClass,style:{color:_.s4.add,backgroundColor:_.s4.add}})," ",r]})},z=ri((0,i.useState)(!1),2),W=z[0],Y=z[1],U=ri((0,i.useState)(!1),2),R=U[0],V=U[1],G=tJ(),K=ri((0,i.useState)(),2),$=K[0],H=K[1];(0,i.useEffect)(function(){n&&"add"===o&&!$&&y(void 0)},[n,o,$]);var q=ri(eO.A.useForm(),1)[0],J=function(e){e?(null==h?void 0:h.todo_id)!==e&&Q(e):y(void 0)},Q=function(e){(0,_.Nr)(e,!0).then(function(e){e.data&&y(e.data)})},X=ri((0,i.useState)(!1),2),ee=X[0],et=X[1],er=function(e){et((0,_.vG)(e,p))},en=ri((0,i.useState)(1350),2),eo=en[0],ea=en[1];return(0,a.jsx)(ef.A,{className:"".concat(e_.modal," ").concat("dark"===e?"darkTheme":""),title:(0,a.jsxs)(w.A,{children:[(0,a.jsx)("div",{className:e_.modalTitle,children:o?F($||o,t5[o]):""}),(0,a.jsx)(eT.A,{value:eo,onChange:function(e){return ea(Number(e.target.value))}})]}),style:{border:"1px solid ".concat("edit"===($||o)?_.s4.edit:_.s4.add),boxSizing:"border-box"},open:n,onCancel:function(){return M()},destroyOnHidden:!0,width:"90vw",footer:(0,a.jsx)(re,{visible:n,type:o,activeTodo:t,otherTodo:h,isEditing:W,isEditingOther:R,onClose:M,createCopyOrNextTask:function(e,t){var r;return(r=function(){return function(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),l=Object.defineProperty;return l(i,"next",{value:c(0)}),l(i,"throw",{value:c(1)}),l(i,"return",{value:c(2)}),"function"==typeof Symbol&&l(i,Symbol.iterator,{value:function(){return this}}),i;function c(l){return function(c){var s=[l,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(r){return u("add"),H(e),d(ra(ro({},G()),{name:t.name,description:"add_child"!==e?t.description:"",time:"copy"===e?I()(t.time):I()(),status:_.Vj.todo,color:"add_child"===e?String((null==p?void 0:p.todoDefaultColor)||"3"):t.color,category:t.category,other_id:"add_progress"===e?t.other_id:t.todo_id,isWork:t.isWork})),Y(!0),L(!1),[2]})},function(){var e=this,t=arguments;return new Promise(function(n,o){var a=r.apply(e,t);function i(e){rn(a,n,o,i,l,"next",e)}function l(e){rn(a,n,o,i,l,"throw",e)}i(void 0)})})()},setIsEditing:Y,form:r,otherForm:q,handleClose:E,handleAfterEditTodo:function(e){var n,o,a=r&&r.getFieldsValue();(n=C.current).push.apply(n,rl(B(a).concat(B(t)))),h&&(o=C.current).push.apply(o,rl(B(h))),(null==h?void 0:h.todo_id)&&Q(null==h?void 0:h.todo_id),d(ra(ro({},e),{imgList:j,FileList:O}))},handleAfterAddTodo:function(e){var t,n,o=r&&r.getFieldsValue();(t=C.current).push.apply(t,rl(B(o))),h&&(n=C.current).push.apply(n,rl(B(h))),(null==h?void 0:h.todo_id)&&Q(null==h?void 0:h.todo_id),d(e),u("edit")},handleAfterDelete:function(){var e,r;(e=C.current).push.apply(e,rl(B(t))),h&&(r=C.current).push.apply(r,rl(B(h)))},handleAfterEditOtherTodo:function(){var e;(e=C.current).push.apply(e,rl(B(h))),V(!1)},handleAfterOk:function(){H(void 0)},children:ee?"当前 todo 会在 homeTodo 中展示":""}),children:(0,a.jsxs)("div",{className:e_.wrapper,children:[h&&(0,a.jsx)("div",{className:"".concat(e_.left," ScrollBar"),style:{minWidth:"".concat(Math.floor(eo/3),"px")},children:(0,a.jsx)(rt,{otherTodo:h,isEditing:W,isEditingOther:R,otherForm:q,handleIsFieldChange:function(){V(!0),L(!1)}})}),(0,a.jsxs)("div",{className:"".concat(e_.right," ScrollBar"),style:{minWidth:"".concat(eo,"px")},children:[(0,a.jsx)("div",{className:e_.title,children:F($||o,"当前 Todo：")}),r&&(0,a.jsx)(tO,{form:r,open:n,isFieldsChange:function(e){var t,n,o;er(r.getFieldsValue()),(null==e||null==(n=e[0])||null==(t=n.name)?void 0:t[0])==="other_id"&&J(null==e||null==(o=e[0])?void 0:o.value),Y(!0),L(!1)},activeTodo:t,needFocus:!0,leftChildren:t&&v&&t.child_todo_list_length&&(0,a.jsx)(tX,{title:"下一级 todo: ".concat(t.child_todo_list_length),todoChildList:v,isEditing:W||R}),rightChildren:"edit"===o&&t&&(0,a.jsx)(tE,{todo:ra(ro({},t),{imgList:j,fileList:O}),handleFresh:function(e){if(e){var t;S(e.imgList||[]),T(e.fileList||[]),(t=C.current).push.apply(t,rl(B(e)))}}})})]})]})})};var ru=r(28032),rd=r(91168),rf={};rf.styleTagTransform=v(),rf.setAttributes=b(),rf.insert=f().bind(null,"head"),rf.domAPI=u(),rf.insertStyleElement=y(),c()(rd.A,rf);let rp=rd.A&&rd.A.locals?rd.A.locals:void 0;function rb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rh(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function ry(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rb(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let rm=function(e){var t=(0,i.useContext)(tP.Dx).theme,r=(0,_.t4)(),n=r.todoColorMap,o=r.todoColorNameMap,l=(0,Z.d4)(function(e){return e.edit.showChainModal}),c=(0,Z.d4)(function(e){return e.edit.chainId}),s=(0,Z.wA)().edit.setShowChainModal,u=ry((0,i.useState)([]),2),d=u[0],f=u[1],p=tN().flag;(0,i.useEffect)(function(){l&&(c?m(c):f([]))},[c,l,p]);var b=ry((0,i.useState)(!1),2),h=b[0],y=b[1],m=function(e){var t;return(t=function(){return function(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),l=Object.defineProperty;return l(i,"next",{value:c(0)}),l(i,"throw",{value:c(1)}),l(i,"return",{value:c(2)}),"function"==typeof Symbol&&l(i,Symbol.iterator,{value:function(){return this}}),i;function c(l){return function(c){var s=[l,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(t){switch(t.label){case 0:return y(!0),[4,(0,_.IJ)(e)];case 1:return f(t.sent().data),y(!1),[2]}})},function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(e){rh(a,n,o,i,l,"next",e)}function l(e){rh(a,n,o,i,l,"throw",e)}i(void 0)})})()},v=ry((0,i.useState)(Object.keys(n||{})),2),g=v[0],x=v[1],j=ry((0,i.useState)(""),2),A=j[0],S=j[1],k=ry((0,i.useState)(""),2),O=k[0],T=k[1],C=function(){P(I(d))},I=function(e){return e.reduce(function(e,t){var r,n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},t);return n.child_todo_list&&(n.child_todo_list=I(n.child_todo_list)),(D(n)||(null==n||null==(r=n.child_todo_list)?void 0:r.length)!==0)&&e.push(n),e},[])},D=function(e){return(-1!==e.name.toLowerCase().indexOf(A.toLowerCase())||-1!==e.description.toLowerCase().indexOf(A.toLowerCase()))&&g.includes(e.color)},E=ry((0,i.useState)([]),2),N=E[0],P=E[1];return(0,i.useEffect)(function(){C()},[d,g]),(0,a.jsx)(ef.A,{className:"dark"===t?"darkTheme":"",title:(0,a.jsxs)(w.A,{size:16,children:[(0,a.jsx)("span",{children:"todo chain"}),(0,a.jsx)(eT.A,{value:A,onChange:function(e){return S(e.target.value)},onPressEnter:function(){C(),T(A)}})]}),open:l,destroyOnHidden:!0,onCancel:function(){s(!1),S("")},footer:null,width:1e3,children:(0,a.jsxs)(ru.A,{spinning:h,children:[(0,a.jsx)(tz.A.Group,{className:rp.checkboxGroup,options:n&&Object.keys(n).map(function(e){return{label:(0,a.jsx)("span",{style:{color:n[e]},children:null==o?void 0:o[e]}),value:e}}),value:g,onChange:function(e){return x(e)}}),(0,a.jsx)(ex,{todoList:N,dataMode:"tree",getTodoItemProps:function(e){return{showPointIcon:c===e.todo_id,showTime:!0,showTimeRange:!0,keyword:O}}})]})})};var rv=r(77151),rg=r(16776),rx=r(98459),rj=r(16089),rw=r(56592),rA={};rA.styleTagTransform=v(),rA.setAttributes=b(),rA.insert=f().bind(null,"head"),rA.domAPI=u(),rA.insertStyleElement=y(),c()(rw.A,rA);let rS=rw.A&&rw.A.locals?rw.A.locals:void 0;function rk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let rO=function(e){var t,r=e.loading,n=e.title,o=e.mapList,l=e.sortKey,c=e.showDoingBtn,s=e.renderDateBtn,u=e.isReverseTime,d=e.btnChildren,f=e.onClickTitle,p=e.isHideList,b=void 0!==p&&p,h=(0,_.t4)().todoNameMap,y=function(){return(0,N.Gq)().format("YYYY-MM-DD")},m=Object.keys(o).reduce(function(e,t){return o[t].length+e},0),v=q("".concat(l,"-sort-time")),g=v.isSortTime,x=v.setIsSortTime,j=v.handleSortTime,S=v.handleSortByColor,k=function(e){var t=e;return T&&(t=t.filter(function(e){return"1"===e.doing})),t=g?j(t):t.filter(function(e){return"1"===e.doing}).concat(S(t.filter(function(e){return"1"!==e.doing})))},O=(t=(0,i.useState)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return rk(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rk(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),T=O[0],C=O[1];return(0,a.jsxs)("div",{className:rS.list,children:[r&&(0,a.jsx)(_.Rh,{}),(0,a.jsxs)("div",{className:rS.header,children:[(0,a.jsxs)("span",{className:rS.active,onClick:function(){return null==f?void 0:f(l)},children:[n,"(",m,")"," ",b?(0,a.jsx)(rg.A,{}):(0,a.jsx)(rx.A,{})]}),(0,a.jsxs)(w.A,{size:8,children:[void 0===d?null:d,c&&(0,a.jsx)(A.A,{title:"只看 ".concat(null==h?void 0:h.doing),children:(0,a.jsx)(U.Ay,{className:T?rS.isOnlyShowDoing:"",type:T?"primary":"default",onClick:function(){return C(function(e){return!e})},icon:(0,a.jsx)(rj.A,{})})}),(0,a.jsx)(J,{isSortTime:g,setIsSortTime:x})]})]}),!b&&(0,a.jsx)("div",{className:"".concat(rS.OneDayListWrap," ScrollBar"),children:(void 0!==u&&u?Object.keys(o).sort().reverse():Object.keys(o).sort()).map(function(e){var t,r,n=k(o[e]);return n.length?(0,a.jsxs)("div",{className:rS.oneDay,children:[(0,a.jsxs)("div",{className:"".concat(rS.time," ").concat(e===y()?rS.today:e>y()?rS.future:rS.previously),children:[(0,a.jsxs)("span",{children:[e,"\xa0 (",M(e),",",F(e),")",(null==(t=o[e])?void 0:t.length)>6?" ".concat(null==(r=o[e])?void 0:r.length):null]}),null==s?void 0:s(e)]}),(0,a.jsx)(ex,{todoList:n,getTodoItemProps:function(){return{showDoneIcon:!0}}})]},e):null})})]})};var rT=r(90664),rC=r(78991),rI={};rI.styleTagTransform=v(),rI.setAttributes=b(),rI.insert=f().bind(null,"head"),rI.domAPI=u(),rI.insertStyleElement=y(),c()(rC.A,rI);let r_=rC.A&&rC.A.locals?rC.A.locals:void 0;function rD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rE(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function rN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rD(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rP=function(e){var t=e.title;return t?(0,a.jsx)(A.A,{title:t,placement:"bottom",children:(0,a.jsx)(eE.A,{style:{cursor:"pointer"}})}):null};let rL=function(e){var t=e.onClickTitle,r=e.isHideList,n=(0,_.t4)(),o=n.todoNameMap,l=n.todoDescriptionMap,c=n.todoShowBeforeToday,s=function(){return(0,N.Gq)().format("YYYY-MM-DD")},u=(0,Z.d4)(function(e){return e.data.todoLoading}),d=(0,Z.d4)(function(e){return e.data.todoList}),f=(0,Z.d4)(function(e){return e.data.todoListOrigin}),p=(0,Z.wA)(),b=p.data,h=b.setTodoList,y=b.getFilterList,m=b.getTodo;(0,i.useEffect)(function(){h(y({list:f,type:"todo"}))},[f]);var v=(0,Z.d4)(function(e){return e.data.followUpLoading}),g=(0,Z.d4)(function(e){return e.data.followUpList}),x=(0,Z.d4)(function(e){return e.data.followUpListOrigin}),j=p.data.setFollowUpList;(0,i.useEffect)(function(){j(y({list:x,type:"followUp"}))},[x]);var S=rN((0,i.useState)(!0),2),k=S[0],O=S[1],T=rN((0,i.useState)(!0),2),C=T[0],I=T[1];(0,i.useEffect)(function(){I(localStorage.getItem("isShowLastLimit")==="".concat(null==c?void 0:c.limit))},[null==c?void 0:c.limit]);var D=function(e){var t;return(t=function(){return function(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),l=Object.defineProperty;return l(i,"next",{value:c(0)}),l(i,"throw",{value:c(1)}),l(i,"return",{value:c(2)}),"function"==typeof Symbol&&l(i,Symbol.iterator,{value:function(){return this}}),i;function c(l){return function(c){var s=[l,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.filter(function(e){return String(e.status)===String(_.Vj.todo)}).map(function(e){var t,r;return(0,_._d)((t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},e),r=r={time:s()},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))}))];case 1:return t.sent()&&(ek.Ay.success("Todo 日期调整成功"),m({type:"todo"})),[2]}})},function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(e){rE(a,n,o,i,l,"next",e)}function l(e){rE(a,n,o,i,l,"throw",e)}i(void 0)})})()};return(0,a.jsx)(rO,{loading:u||v,sortKey:K.todo,showDoingBtn:!0,title:(0,a.jsxs)(a.Fragment,{children:[null==o?void 0:o.today," ",(0,a.jsx)(rP,{title:null==l?void 0:l.today})," "]}),onClickTitle:t,isHideList:r,mapList:P(d.filter(function(e){return e.time<=s()}).concat(k?g:[])),isReverseTime:!0,btnChildren:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.A,{title:"".concat(null==c?void 0:c.text),children:(0,a.jsx)(U.Ay,{type:C?"primary":"default",onClick:function(){var e=!C;ek.Ay.info(e?null==c?void 0:c.text:"看所有 todo",1),I(e),localStorage.setItem("isShowLastLimit",e?null==c?void 0:c.limit:500),m({type:"todo"})},children:null==c?void 0:c.limit})}),g.length?(0,a.jsx)(A.A,{title:"查看 ".concat(null==o?void 0:o.isFollowUp),children:(0,a.jsx)(U.Ay,{type:k?"primary":"default",onClick:function(){return O(function(e){return!e})},icon:(0,a.jsx)(_.YT,{type:"isFollowUp",style:k?{}:{color:"#ffeb3b"}})})}):null]}),renderDateBtn:function(e){return(0,a.jsx)(w.A,{size:6,children:e<s()&&(0,a.jsx)(t1.A,{title:"是否将 ".concat(e," 的 Todo 日期调整成今天"),onConfirm:function(){return D(P(d.filter(function(e){return e.time<=s()}).concat(k?g:[]))[e])},okText:"Yes",cancelText:"No",children:(0,a.jsx)(A.A,{title:"调整日期",children:(0,a.jsx)(rT.A,{title:"调整日期",className:r_.icon})})})})}})},rM=function(e){var t=e.onClickTitle,r=e.isHideList,n=(0,_.t4)(),o=n.todoNameMap,i=n.todoDescriptionMap,l=(0,Z.d4)(function(e){return e.data.todoLoading}),c=(0,Z.d4)(function(e){return e.data.todoList});return c.filter(function(e){return e.time>(0,N.Gq)().format("YYYY-MM-DD")}).length?(0,a.jsx)(rO,{loading:l,sortKey:K.after,title:(0,a.jsxs)(a.Fragment,{children:[null==o?void 0:o.after,(0,a.jsx)(rP,{title:null==i?void 0:i.after})," "]}),onClickTitle:t,isHideList:r,mapList:P(c.filter(function(e){return e.time>(0,N.Gq)().format("YYYY-MM-DD")}))},"after"):null};var rF=r(19753),rz={};rz.styleTagTransform=v(),rz.setAttributes=b(),rz.insert=f().bind(null,"head"),rz.domAPI=u(),rz.insertStyleElement=y(),c()(rF.A,rz);let rB=rF.A&&rF.A.locals?rF.A.locals:void 0;function rW(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rY(e){return function(e){if(Array.isArray(e))return rW(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rU(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rU(e,t){if(e){if("string"==typeof e)return rW(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rW(e,t)}}var rR=function(e){var t,r=(t=(0,i.useState)(e&&localStorage.getItem(e)||"3"),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(t,2)||rU(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],o=r[1];return{isSortBy:n,setIsSortBy:function(t){o(t),e&&localStorage.setItem(e,String(t))},handleSort:function(e){return"1"===n?rY(e).sort(function(e,t){return((null==t?void 0:t.mTime)?new Date(t.mTime).getTime():0)-((null==e?void 0:e.mTime)?new Date(e.mTime).getTime():0)}):"3"===n?rY(e).sort(function(e,t){return((null==t?void 0:t.time)?new Date(t.time).getTime():0)-((null==e?void 0:e.time)?new Date(e.time).getTime():0)}):e},handleShowTime:function(e){return"1"===n?e.mTime:"3"===n?e.time:e.cTime}}},rV={1:"当前按照更新时间倒序排序",2:"当前按照重要程度倒序排序",3:"当前按照默认时间倒序排序"};let rG=function(e){var t=e.isSortBy,r=e.setIsSortBy;return(0,a.jsx)(A.A,{title:rV[t],children:(0,a.jsx)(U.Ay,{onClick:function(){return r(["1","2","3"].includes(t)?"3"===t?"1":"".concat(Number(t)+1):"3")},type:"3"===t?"default":"primary",icon:(0,a.jsx)(Y.A,{})})})};function rK(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function r$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rK(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let rH=function(e){var t=e.loading,r=e.title,n=e.mapList,o=e.sortKey,l=e.btn,c=e.onClickTitle,s=e.isHideList,u=void 0!==s&&s,d=e.isShowFilterInput,f=rR("".concat(o,"-sort-time")),p=f.isSortBy,b=f.setIsSortBy,h=f.handleSort,y=r$((0,i.useState)([]),2),m=y[0],v=y[1];(0,i.useEffect)(function(){v((0,_.Gn)(h(n),"child_todo_list"))},[n]);var g=r$((0,i.useState)(""),2),x=g[0],j=g[1],A=r$((0,i.useState)([]),2),S=A[0],k=A[1];return(0,i.useEffect)(function(){k((0,_.KQ)(m,x))},[x,m]),(0,a.jsxs)("div",{className:"".concat(rB.list),children:[t&&(0,a.jsx)(_.Rh,{}),(0,a.jsxs)("div",{className:rB.header,children:[(0,a.jsxs)("span",{style:{color:"#1890ffcc"},onClick:function(){return null==c?void 0:c(o)},children:[r,"(",n.length,") ",u?(0,a.jsx)(rg.A,{}):(0,a.jsx)(rx.A,{})]}),(0,a.jsxs)(w.A,{size:12,children:[void 0!==d&&d&&(0,a.jsx)(eT.A,{style:{width:96},placeholder:"筛选关键字",value:x,onChange:function(e){return j(e.target.value)}}),l,(0,a.jsx)(rG,{isSortBy:p,setIsSortBy:b})]})]}),!u&&(0,a.jsx)(ex,{todoList:S,dataMode:"tree",keyword:x})]})},rq=function(e){var t=e.onClickTitle,r=e.isHideList,n=(0,_.t4)(),o=n.todoNameMap,l=n.todoDescriptionMap,c=(0,Z.d4)(function(e){return e.data.targetLoading}),s=(0,Z.d4)(function(e){return e.data.targetList}),u=(0,Z.d4)(function(e){return e.data.targetListOrigin}),d=(0,Z.d4)(function(e){return e.filter.isTarget}),f=(0,Z.wA)(),p=f.data,b=p.setTargetList,h=p.getFilterList,y=f.filter.setIsTarget;return(0,i.useEffect)(function(){b(h({list:u,type:"target"}))},[u]),(0,a.jsx)(rH,{loading:c,sortKey:K.target,title:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.YT,{type:"isTarget"})," ",null==o?void 0:o.isTarget," ",(0,a.jsx)(rP,{title:null==l?void 0:l.target})," "]}),onClickTitle:t,isHideList:r,btn:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(U.Ay,{onClick:function(){return y("1"===d?"0":"1")},type:"1"===d?"primary":"default",children:"查看已完成"})}),mapList:s.sort(function(e,t){return Number(e.color)-Number(t.color)}),isShowFilterInput:!0})};var rJ=r(84863),rQ=r(6238),rZ={};rZ.styleTagTransform=v(),rZ.setAttributes=b(),rZ.insert=f().bind(null,"head"),rZ.domAPI=u(),rZ.insertStyleElement=y(),c()(rQ.A,rZ);let rX=rQ.A&&rQ.A.locals?rQ.A.locals:void 0,r0=function(){var e=(0,i.useContext)(tP.Dx).theme,t=(0,Z.d4)(function(e){return e.edit.showFootprintDrawer}),r=(0,Z.wA)().edit.setShowFootprintDrawer;return(0,a.jsx)(rJ.A,{closable:!1,className:"".concat(rX.footprintDrawer," ").concat("dark"===e?"darkTheme":""),open:t,onClose:function(){return r(!1)},width:"600px",children:(0,a.jsx)("div",{onMouseLeave:function(){return r(!1)},children:(0,a.jsx)(e3,{visible:t})})})},r1=function(e){var t=e.onClickTitle,r=e.isHideList,n=(0,_.t4)(),o=n.todoNameMap,l=n.todoDescriptionMap,c=(0,Z.d4)(function(e){return e.data.bookMarkList}),s=(0,Z.d4)(function(e){return e.data.bookMarkListOrigin}),u=(0,Z.d4)(function(e){return e.data.bookMarkLoading}),d=(0,Z.wA)().data,f=d.setBookMarkList,p=d.getFilterList;return(0,i.useEffect)(function(){f(p({list:s,type:"bookMark"}))},[s]),(0,a.jsx)(rH,{loading:u,title:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.YT,{type:"isBookMark"})," ",null==o?void 0:o.isBookMark," ",(0,a.jsx)(rP,{title:null==l?void 0:l.bookMark})," "]}),onClickTitle:t,isHideList:void 0!==r&&r,sortKey:K.bookmark,mapList:c.sort(function(e,t){return Number(e.color)-Number(t.color)})})};var r2=r(95704),r5=r(11464);function r4(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function r6(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r4(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let r3=function(e){var t=e.onClickTitle,r=e.isHideList,n=(0,_.t4)().todoNameMap,o=(0,i.useContext)(tP.Dx).theme,l=(0,Z.d4)(function(e){return e.data.directoryLoading}),c=(0,Z.d4)(function(e){return e.data.directoryList}),s=(0,Z.d4)(function(e){return e.data.directoryListOrigin}),u=(0,Z.wA)(),d=u.data,f=d.setDirectoryList,p=d.getFilterList;(0,i.useEffect)(function(){f(p({list:s,type:"directory"}))},[s]);var b=r6((0,i.useState)(!1),2),h=b[0],y=b[1],m=r6((0,i.useState)(null),2),v=m[0],g=m[1],x=(0,Z.d4)(function(e){return e.edit}).flag,j=r6((0,i.useState)("all"),2),A=j[0],S=j[1];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(rH,{loading:l,sortKey:K.directory,title:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.YT,{type:"isDirectory"})," ",null==n?void 0:n.isDirectory]}),onClickTitle:t,isHideList:r,mapList:c.sort(function(e,t){return Number(e.color)-Number(t.color)}),btn:(0,a.jsxs)(U.Ay,{onClick:function(){return y(!0)},children:[(0,a.jsx)(r2.A,{})," home todo"]}),isShowFilterInput:!0}),(0,a.jsx)(ef.A,{className:"".concat("dark"===o?"darkTheme":""),title:(0,a.jsxs)(w.A,{children:[(0,a.jsx)(r2.A,{})," Home Todo",(0,a.jsx)(eD.Ay.Group,{value:A,onChange:function(e){return S(e.target.value)},options:[{label:"home, 跟游客看到的一模一样",value:"home"},{label:"all，看所有类目",value:"all"}]})]}),open:h,onCancel:function(){return y(!1)},width:"98vw",footer:(0,a.jsx)(a.Fragment,{children:v&&(0,a.jsx)(U.Ay,{onClick:function(){var e=u.edit,t=e.setActiveTodo,r=e.setShowEdit,n=e.setOperatorType;t(v),r(!0),n("edit")},children:"编辑"})}),children:h&&(0,a.jsx)(r5.A,{type:A,flag:x,getActiveTodo:function(e){g(e)}})})]})};var r8=r(95968),r9={};r9.styleTagTransform=v(),r9.setAttributes=b(),r9.insert=f().bind(null,"head"),r9.domAPI=u(),r9.insertStyleElement=y(),c()(r8.A,r9);let r7=r8.A&&r8.A.locals?r8.A.locals:void 0;var ne=r(25206),nt=r(5466),nr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=(0,i.useRef)(null);return{run:function(){r.current=setTimeout(function(){e()},t)},cancel:function(){(null==r?void 0:r.current)&&clearTimeout(r.current)}}};let nn=function(){var e=(0,Z.wA)().edit,t=e.setShowFootprintDrawer,r=e.setShowNoteDrawer,n=nr(function(){return r(!0)}),o=n.run,i=n.cancel,l=nr(function(){return t(!0)}),c=l.run,s=l.cancel;return(0,a.jsxs)("div",{className:r7.hoverOpen,children:[(0,a.jsx)(A.A,{title:"note",placement:"left",children:(0,a.jsx)("div",{className:r7.bookMark,onMouseEnter:function(){return o()},onMouseLeave:function(){return i()},onClick:function(){r(!0)},children:(0,a.jsx)(ne.A,{})})}),(0,a.jsx)(A.A,{title:"足迹",placement:"left",children:(0,a.jsx)("div",{className:r7.footprint,onMouseEnter:function(){return c()},onMouseLeave:function(){return s()},onClick:function(){t(!0)},children:(0,a.jsx)(nt.A,{})})})]})};var no=r(94111),na={};na.styleTagTransform=v(),na.setAttributes=b(),na.insert=f().bind(null,"head"),na.domAPI=u(),na.insertStyleElement=y(),c()(no.A,na);let ni=no.A&&no.A.locals?no.A.locals:void 0;var nl=r(25303);function nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ns(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function nu(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){ns(a,n,o,i,l,"next",e)}function l(e){ns(a,n,o,i,l,"throw",e)}i(void 0)})}}function nd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nc(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nf(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),l=Object.defineProperty;return l(i,"next",{value:c(0)}),l(i,"throw",{value:c(1)}),l(i,"return",{value:c(2)}),"function"==typeof Symbol&&l(i,Symbol.iterator,{value:function(){return this}}),i;function c(l){return function(c){var s=[l,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var np=eT.A.Search;let nb=function(e){var t,r=(0,Z.wA)(),n=(0,i.useContext)(tP.Dx).theme,o=(0,Z.d4)(function(e){return e.edit.showNoteDrawer}),l=r.edit.setShowNoteDrawer,c=(0,Z.d4)(function(e){return e.data.isRefreshNote}),s=r.data.setIsRefreshNote,u=function(e){var t=r.edit,n=t.setActiveTodo,o=t.setShowEdit,a=t.setOperatorType;n(e),o(!0),a("edit")},d=nd((0,i.useState)(),2),f=d[0],p=d[1],b=nd((0,i.useState)(0),2),h=b[0],y=b[1],m=nd((0,i.useState)(""),2),v=m[0],g=m[1],x=nd((0,i.useState)(1),2),j=x[0],A=x[1],k=nd((0,i.useState)(10),2),O=k[0],T=k[1],C=nd((0,i.useState)("所有"),2),I=C[0],D=C[1],E=nd((0,i.useState)(!1),2),N=E[0],P=E[1],L=(t=function(){return nu(function(){var e,t,r,n;return nf(this,function(o){switch(o.label){case 0:return P(!0),e={keyword:v,pageNo:j,pageSize:O,isNote:"1",sortBy:"time"===G?[["time","DESC"],["cTime","DESC"]]:[[G,"DESC"]]},"所有"!==I&&(e.category=I),[4,(0,_.rk)(e)];case 1:return(t=o.sent())&&(p((null==t||null==(r=t.data)?void 0:r.list)||[]),y((null==t||null==(n=t.data)?void 0:n.total)||0)),P(!1),[2]}})})()},function(){W&&clearTimeout(W),W=setTimeout(function(){t()},300)});(0,i.useEffect)(function(){c&&(R(),s(!1))},[c]);var M=nd((0,i.useState)(),2),z=M[0],B=M[1],Y=function(){return nu(function(){var e;return nf(this,function(t){switch(t.label){case 0:return[4,(0,_.VZ)({isNote:"1"})];case 1:return(e=t.sent())&&B(e.data),[2]}})})()},R=function(){L(),Y()};(0,i.useEffect)(function(){1===j?L():A(1)},[I,O]),(0,i.useEffect)(function(){Y()},[]);var V=nd((0,i.useState)("time"),2),G=V[0],K=V[1];return(0,i.useEffect)(function(){L()},[G,j,c]),(0,a.jsx)(ef.A,{closable:!1,className:"".concat(ni.noteModal," ").concat("dark"===n?"darkTheme":""),open:o,onCancel:function(){return l(!1)},width:"1000px",footer:(0,a.jsx)(S.A,{className:ni.pagination,current:j,pageSize:O,total:h,onChange:function(e){return A(e)},onShowSizeChange:function(e,t){return T(t)},showTotal:function(e){return"共".concat(e,"条")}}),children:(0,a.jsx)("div",{className:"".concat(ni.note),children:(0,a.jsx)(ru.A,{spinning:N,children:(0,a.jsxs)("div",{className:ni.wrap,children:[(0,a.jsx)(w.A,{className:ni.header,orientation:"vertical",children:(0,a.jsxs)("div",{className:ni.headerOne,children:[(0,a.jsxs)("span",{children:["todo note (",h,")"]}),(0,a.jsxs)(w.A,{children:[(0,a.jsx)(np,{className:ni.input,placeholder:"回车才搜索，不回车只高亮",value:v,enterButton:!0,onChange:function(e){return g(e.target.value)},onSearch:function(){return 1===j?L():A(1)},onPressEnter:function(){return 1===j?L():A(1)}}),(0,a.jsxs)(U.Ay,{onClick:function(){return K("time"===G?"mTime":"time")},children:["按","time"===G?"time":"修改","时间倒序"]})]})]})}),(0,a.jsxs)("div",{className:ni.mainContent,children:[(0,a.jsx)("div",{className:ni.leftSide,children:(0,a.jsxs)(eD.Ay.Group,{className:ni.radioList,value:I,onChange:function(e){return D(e.target.value)},children:[(0,a.jsxs)(eD.Ay,{value:"所有",children:["所有 (",null==z?void 0:z.reduce(function(e,t){return e+Number(t.count)},0),")"]},"所有"),null==z?void 0:z.map(function(e){return(0,a.jsxs)(eD.Ay,{value:e.category,children:[e.category,"(",e.count,")"]},e.category)})]})}),(0,a.jsx)("div",{className:"".concat(ni.rightSide," ScrollBar"),children:(0,a.jsxs)("div",{className:"".concat(ni.note_list),children:[null==f?void 0:f.map(function(e){var t,r,n;return(0,a.jsxs)("div",{className:ni.note_item,onClick:function(){return u(e)},children:[(0,a.jsxs)("div",{className:ni.note_time,children:[e.time,"(",F(e.time),")"]}),(0,a.jsxs)("div",{className:ni.note_box,children:[(0,a.jsx)("div",{className:ni.note_header,children:(0,a.jsx)(eg.A,{item:e,onlyShow:!0})}),(0,a.jsx)("div",{className:ni.note_content,children:(0,a.jsx)(_.Dr,{todoDescription:e.description,keyword:v})}),(0,a.jsx)(tE,{isOnlyShow:!0,todo:(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},e),n=n={imgList:null==(t=e.imgList)?void 0:t.slice(0,1)},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(n)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}),r),width:"120px"}),e.imgList&&e.imgList.length>1&&(0,a.jsxs)("div",{style:{opacity:.7},children:["还有"," ",e.imgList.length-1," ","张图"]})]})]},e.todo_id)}),(!f||(null==f?void 0:f.length)===0)&&(0,a.jsx)(nl.A,{style:{paddingTop:100,gridColumnStart:1,gridColumnEnd:4}})]})})]})]})})})})};function nh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ny(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nh(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nm=function(){(0,eS.A)("todo-list");var e=(0,_.t4)(),t=e.todoNameMap,r=e.todoDescriptionMap,n=ny(eO.A.useForm(),1)[0],o=(0,Z.wA)(),l=o.data,c=l.getCategory,s=l.getTodo,u=o.edit.setForm,d=(0,Z.d4)(function(e){return e.filter.isWork});(0,i.useEffect)(function(){u(n)},[n]),(0,i.useEffect)(function(){c({}),s({type:"todo"}),s({type:"target"}),s({type:"bookMark"}),s({type:"directory"}),s({type:"followUp"})},[d]);var f=ny((0,i.useState)(""),2),p=f[0],b=f[1],h=function(e){b(e===p?"":e)},y=ny((0,i.useState)(""),2),m=y[0],v=y[1],g=function(e){v(e===m?"":e)};return(0,a.jsxs)("div",{className:j.todoList,children:[(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:j.Layout,children:[(0,a.jsxs)("div",{className:j.l,children:[(0,a.jsx)("div",{className:"".concat(j.lt," ScrollBar"),children:(0,a.jsx)(r1,{onClickTitle:h,isHideList:""!==p&&p!==K.bookmark})}),(0,a.jsx)("div",{className:"".concat(j.lm," ScrollBar"),children:(0,a.jsx)(rq,{onClickTitle:h,isHideList:""!==p&&p!==K.target})}),"1"!==d&&(0,a.jsx)("div",{className:"".concat(j.lb," ScrollBar"),children:(0,a.jsx)(r3,{onClickTitle:h,isHideList:""!==p&&p!==K.directory})})]}),(0,a.jsxs)("div",{className:j.m,children:[(0,a.jsx)("div",{className:"".concat(j.mt," ScrollBar"),children:(0,a.jsx)(rL,{onClickTitle:g,isHideList:""!==m&&m!==K.todo})}),(0,a.jsx)("div",{className:"".concat(j.mb," ScrollBar"),children:(0,a.jsx)(rM,{onClickTitle:g,isHideList:""!==m&&m!==K.after})})]}),(0,a.jsxs)("div",{className:"".concat(j.rt," ScrollBar"),children:[(0,a.jsx)(tQ,{}),(0,a.jsx)("div",{className:"ScrollBar",children:(0,a.jsx)(eA,{title:(0,a.jsxs)(a.Fragment,{children:[null==t?void 0:t.done,(0,a.jsx)(rP,{title:null==r?void 0:r.done})," "]}),sortKey:K.done},"done")})]})]})}),(0,a.jsx)(nn,{}),(0,a.jsx)(nb,{}),(0,a.jsx)(r0,{}),(0,a.jsx)(rs,{}),(0,a.jsx)(rm,{})]})};let nv=function(){return(0,a.jsx)(Z.Kq,{store:rv.A,children:(0,a.jsx)(nm,{})})}}}]);