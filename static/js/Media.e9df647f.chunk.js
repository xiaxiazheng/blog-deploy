(this.webpackJsonpreactblog=this.webpackJsonpreactblog||[]).push([[17],{487:function(e,c,t){e.exports={video:"media_video__2xrU7",tabs:"media_tabs__1f-Zp",active:"media_active__wrJ4B",musicBox:"media_musicBox__AU90-",videoList:"media_videoList__3iJ40",videoBox:"media_videoBox__zaWL5"}},528:function(e,c,t){"use strict";t.r(c);var a=t(57),n=t.n(a),i=t(58),r=t(5),s=t(0),o=t(487),u=t.n(o),d=t(403),l=t(8),j=t(434),b=t(89),m=t(1);c.default=function(){Object(b.a)("media"),Object(s.useEffect)((function(){y()}),[]);var e=Object(s.useState)("\u97f3\u4e50"),c=Object(r.a)(e,2),t=c[0],a=c[1],o=Object(s.useState)([]),v=Object(r.a)(o,2),f=v[0],O=v[1],p=Object(s.useState)([]),h=Object(r.a)(p,2),x=h[0],_=h[1],N=Object(s.useState)([]),B=Object(r.a)(N,2),S=B[0],k=B[1],y=function(){var e=Object(i.a)(n.a.mark((function e(){var c,t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)();case 2:(c=e.sent)&&(t=c.filter((function(e){return e.mimeType.includes("audio")})),k(t),O(t),a=c.filter((function(e){return e.mimeType.includes("video")})),_(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=Object(s.useRef)(null),C=Object(s.useState)(),g=Object(r.a)(C,2),E=g[0],J=g[1];Object(s.useEffect)((function(){if(E&&"\u89c6\u9891"===t){var e=w;if(e.current){e.current.childNodes[0].pause(),e.current.childNodes[0].src="",e.current.childNodes[0].childNodes[0].src="",e.current.removeChild(e.current.childNodes[0]);var c=document.createElement("video");c.controls=!0;var a=document.createElement("source");a.src="".concat(l.b,"/").concat(E.key),a.type=E.mimeType,c.appendChild(a),e.current.appendChild(c)}}}),[E]);var L=function(e){J(e),A(!1)},T=function(){return Object(m.jsx)(m.Fragment,{children:f&&f.map((function(e){return Object(m.jsx)("span",{onClick:L.bind(null,e),className:E===e?u.a.active:"",children:e.key},e.key)}))})},U=Object(s.useState)(!1),z=Object(r.a)(U,2),A=(z[0],z[1]);return Object(m.jsxs)("div",{className:"".concat(u.a.video," ScrollBar"),children:["\u97f3\u4e50"===t&&Object(m.jsx)("div",{className:u.a.musicBox,children:Object(m.jsx)(j.a,{activeSong:E})}),Object(m.jsx)("div",{className:u.a.tabs,children:["\u97f3\u4e50","\u89c6\u9891"].map((function(e){return Object(m.jsx)("span",{className:e===t?u.a.active:"",onClick:function(){return function(e){a(e),J(void 0),O("\u97f3\u4e50"===e?S:x)}(e)},children:e},e)}))}),Object(m.jsx)("div",{className:"".concat(u.a.videoList," ScrollBar"),children:Object(m.jsx)(T,{})}),"\u89c6\u9891"===t&&Object(m.jsx)("div",{className:u.a.videoBox,ref:w,children:Object(m.jsx)("audio",{controls:!0,children:Object(m.jsx)("source",{src:""})})})]})}}}]);