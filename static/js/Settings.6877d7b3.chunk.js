(this.webpackJsonpreactblog=this.webpackJsonpreactblog||[]).push([[17],{675:function(e,t,n){"use strict";var a=n(1);t.a=function(e){var t;return Object(a.a)({},e.componentCls,(t={},Object(a.a)(t,"".concat(e.antCls,"-motion-collapse-legacy"),{overflow:"hidden","&-active":{transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}}),Object(a.a)(t,"".concat(e.antCls,"-motion-collapse"),{overflow:"hidden",transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}),t))}},842:function(e,t,n){e.exports={table:"settings_table__3Oz8J",wrapper:"settings_wrapper__m3aQx",renderValue:"settings_renderValue__iopYb"}},879:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n(2),c=n.n(r),i=n(7),o=n(3),s=n(97),u=n(0),l=n(842),d=n.n(l),p=n(712),j=n(325),b=n(491),O=n(883),f=n(511),v=n(859),h=n(6);t.default=function(){var e=[{title:"Name",dataIndex:"name",key:"name",width:150},{title:"Description",dataIndex:"description",width:300,key:"description",render:function(e){return Object(h.jsx)("div",{className:d.a.renderValue,children:e})}},{title:"Value",dataIndex:"value",key:"value",render:function(e){return Object(h.jsx)("div",{className:d.a.renderValue,children:e})}},{title:"Action",key:"action",width:200,render:function(e,n){return Object(h.jsxs)(p.b,{size:"middle",children:[Object(h.jsx)(j.a,{onClick:function(){return t(n)},children:"\u7f16\u8f91"}),Object(h.jsx)(j.a,{onClick:function(){return F(n)},children:"\u5220\u9664"})]})}}],t=function(e){x(e),y(e.name),C(e.value),D(e.description),T(!0)},n=Object(u.useState)(),r=Object(o.a)(n,2),l=r[0],x=r[1],m=Object(u.useState)(),g=Object(o.a)(m,2),w=g[0],y=g[1],k=Object(u.useState)(),S=Object(o.a)(k,2),N=S[0],C=S[1],J=Object(u.useState)(),_=Object(o.a)(J,2),I=_[0],D=_[1],E=Object(u.useState)(!1),V=Object(o.a)(E,2),M=V[0],T=V[1],A=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w||!N){e.next=14;break}return e.prev=1,console.log(JSON.parse(N)),e.next=5,Object(s.t)({name:w,value:JSON.parse(N),description:I});case 5:T(!1),L(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),b.a.error("\u4fdd\u5b58\u5931\u8d25\uff0c\u5f53\u524d\u4e0d\u662f\u7b2c\u4e00\u4e2a\u5b8c\u6574\u5bf9\u8c61");case 12:e.next=15;break;case 14:b.a.error("\u4e0d\u80fd\u4e3a\u7a7a");case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l&&w&&N)){e.next=14;break}return e.prev=1,console.log(JSON.parse(N)),e.next=5,Object(s.Lb)({settings_id:null===l||void 0===l?void 0:l.settings_id,name:w,value:JSON.parse(N),description:I});case 5:H(),L(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),b.a.error("\u4fdd\u5b58\u5931\u8d25\uff0c\u5f53\u524d\u4e0d\u662f\u7b2c\u4e00\u4e2a\u5b8c\u6574\u5bf9\u8c61");case 12:e.next=15;break;case 14:b.a.error("\u4e0d\u80fd\u4e3a\u7a7a");case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.error("\u6682\u4e0d\u652f\u6301");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){L()}),[]);var L=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.fb)();case 2:t=e.sent,G(t.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{value:JSON.stringify(JSON.parse(e.value),null,"\t")})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){try{N&&JSON.parse(N)}catch(e){return"\u683c\u5f0f\u51fa\u9519"}},Y=Object(u.useState)([]),q=Object(o.a)(Y,2),B=q[0],G=q[1],H=function(){T(!1),x(void 0),y(""),C(""),D("")};return Object(h.jsxs)("div",{className:d.a.wrapper,children:[Object(h.jsx)(j.a,{onClick:function(){T(!0)},children:"\u65b0\u5efa\u914d\u7f6e"}),Object(h.jsx)(O.a,{className:d.a.table,style:{width:"80vw"},scroll:{y:"calc(100vh - 300px)"},columns:e,dataSource:B},"settings_id"),Object(h.jsxs)(f.a,{open:M,onCancel:H,footer:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a,{onClick:function(){try{N&&C(JSON.stringify(JSON.parse(N),null,"\t"))}catch(e){b.a.error("\u5f53\u524d\u4e0d\u662f\u4e00\u4e2a\u5bf9\u8c61")}},children:"\u683c\u5f0f\u5316"}),Object(h.jsx)(j.a,{type:"primary",onClick:l?z:A,disabled:!w||!N||"\u683c\u5f0f\u51fa\u9519"===Q(),children:"\u4fdd\u5b58"})]}),children:[Object(h.jsx)("div",{children:"\u914d\u7f6e\u540d\u79f0\uff1a"}),Object(h.jsx)(v.a,{value:w,onChange:function(e){return y(e.target.value)}}),Object(h.jsx)("div",{style:{marginTop:10},children:"\u914d\u7f6e\u63cf\u8ff0\uff1a"}),Object(h.jsx)(v.a.TextArea,{rows:3,value:I,onChange:function(e){return D(e.target.value)}}),Object(h.jsx)("div",{style:{marginTop:10},children:"\u5177\u4f53\u914d\u7f6e\uff1a"}),Object(h.jsx)(v.a.TextArea,{rows:16,value:N,onChange:function(e){return C(e.target.value)}}),Object(h.jsx)("div",{style:{color:"red"},children:Q()})]})]})}}}]);