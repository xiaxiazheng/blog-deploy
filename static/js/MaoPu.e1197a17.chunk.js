"use strict";(self.webpackChunkreactblog=self.webpackChunkreactblog||[]).push([["378"],{60858(e,t,a){a.d(t,{A:()=>c});var r=a(31601),n=a.n(r),o=a(76314),i=a.n(o)()(n());i.push([e.id,".compareMao--70395a41{margin:20px 0 10px;padding:30px 0 10px;border-top:1px solid #ccc}",""]),i.locals={compareMao:"compareMao--70395a41"};let c=i},18292(e,t,a){a.d(t,{A:()=>c});var r=a(31601),n=a.n(r),o=a(76314),i=a.n(o)()(n());i.push([e.id,".MaoPu--061eacf1{position:relative;display:inline-block;width:100%;height:100%;padding-left:150px;background-color:var(--bg_color);font-size:16px}.MaoPu--061eacf1 .maopuWrapper--860de7c9{height:100%;padding:20px}.MaoPu--061eacf1 .addButton--c1664da7{position:absolute;left:2rem;top:1rem;z-index:2}.MaoPu--061eacf1 .switchShowType--2be4e8ef{position:absolute;top:4rem;left:2rem;display:flex;flex-direction:column;border:1px solid var(--color_active);box-sizing:border-box;border-radius:4px;overflow:hidden}.MaoPu--061eacf1 .switchShowType--2be4e8ef>span{display:inline-block;width:100px;padding:5px 0;cursor:pointer}.MaoPu--061eacf1 .switchShowType--2be4e8ef>span.active--3161878d{color:#fff;background-color:var(--color_active)}.MaoPu--061eacf1 .showMaoStatus--82e81b44{position:absolute;top:14rem;left:2rem}.MaoPu--061eacf1 .hold--e472657f{border-color:#61dafb;background-color:#61dafb}.MaoPu--061eacf1 .gone--505b8b62{border-color:#ccc;background-color:#ccc}.MaoPu--061eacf1 .dead--8858e716{border-color:#ff4d4f;background-color:#ff4d4f}.MaoPu--061eacf1 .colorCloud--0dc85b03{position:absolute;top:16rem;left:2.2rem;font-size:16px;text-align:left}.MaoPu--061eacf1 .colorCloud--0dc85b03>div .status--e4eb23e5{display:inline-block;width:1rem;height:1rem}.MaoPu--061eacf1 .colorCloud--0dc85b03>div:nth-child(1) .status--e4eb23e5{background-color:#61dafb}.MaoPu--061eacf1 .colorCloud--0dc85b03>div:nth-child(2) .status--e4eb23e5{background-color:#ff0}.MaoPu--061eacf1 .colorCloud--0dc85b03>div:nth-child(3) .status--e4eb23e5{background-color:rgba(97,218,251,.2784313725)}.MaoPu--061eacf1 .colorCloud--0dc85b03>div:nth-child(4) .status--e4eb23e5{background-color:pink}.MaoPu--061eacf1 .colorCloud--0dc85b03>div:nth-child(5) .status--e4eb23e5{background-color:#61dafb}.MaoPu--061eacf1 .colorCloud--0dc85b03>div:nth-child(6) .status--e4eb23e5{background-color:#ccc}.MaoPu--061eacf1 .colorCloud--0dc85b03>div:nth-child(7) .status--e4eb23e5{background-color:#ff4d4f}.MaoPu--061eacf1 .maoList--53386f8d{display:flex;flex-wrap:wrap;width:100%;margin:0 auto;align-items:center;text-align:left}.MaoPu--061eacf1 .maoList--53386f8d>div{margin:10px 10px 0 0;padding:5px 15px}.MaoPu--061eacf1 .levelMao--b228faa5{display:flex;justify-content:center;width:100%;overflow-x:auto}.MaoPu--061eacf1 .levelMao--b228faa5 .box--bc1a3205{margin:8px 10px;padding:8px 10px;border:1px solid #ccc}.MaoPu--061eacf1 .hover--07a7f026{color:#000;border-color:#61dafb;background-color:#61dafb}.MaoPu--061eacf1 .hoverBroSis--e35fbfb4{color:#fff;border-color:rgba(97,218,251,.2784313725);background-color:rgba(97,218,251,.2784313725)}.MaoPu--061eacf1 .hoverChildren--92caac22{color:#000;border-color:#ff0;background-color:#ff0}.MaoPu--061eacf1 .hoverParent--37939984{color:#000;border-color:pink;background-color:pink}.MaoPu--061eacf1 .parent--335777be{margin:7px 5px;padding:5px 5px;border:1px solid #ccc;cursor:pointer}.MaoPu--061eacf1 .parent--335777be>span{display:inline-block;max-width:140px}.MaoPu--061eacf1 .allMao--0f5ca085{display:flex;flex-direction:column;justify-content:center;align-items:center;width:180px;height:180px;margin:10px;border:1px solid #ccc;cursor:pointer}.MaoPu--061eacf1 .children--8a9e75db{border:1px solid #ccc}",""]),i.locals={MaoPu:"MaoPu--061eacf1",maoPu:"MaoPu--061eacf1",maopuWrapper:"maopuWrapper--860de7c9",addButton:"addButton--c1664da7",switchShowType:"switchShowType--2be4e8ef",active:"active--3161878d",showMaoStatus:"showMaoStatus--82e81b44",hold:"hold--e472657f",gone:"gone--505b8b62",dead:"dead--8858e716",colorCloud:"colorCloud--0dc85b03",status:"status--e4eb23e5",maoList:"maoList--53386f8d",levelMao:"levelMao--b228faa5",box:"box--bc1a3205",hover:"hover--07a7f026",hoverBroSis:"hoverBroSis--e35fbfb4",hoverChildren:"hoverChildren--92caac22",hoverParent:"hoverParent--37939984",parent:"parent--335777be",allMao:"allMao--0f5ca085",children:"children--8a9e75db"};let c=i},34108(e,t,a){a.d(t,{A:()=>c});var r=a(31601),n=a.n(r),o=a(76314),i=a.n(o)()(n());i.push([e.id,".MaoDetail--7461cfe8{position:relative;display:inline-block;width:100%;height:100%;color:var(--color);font-size:14px;box-sizing:border-box}.MaoDetail--7461cfe8 .backButton--12e45386{position:fixed;left:2rem;top:4rem;z-index:2}.MaoDetail--7461cfe8 .saveButton--32c0346a{position:fixed;left:2rem;top:6.5rem}.MaoDetail--7461cfe8 .maoData--752ffb78{width:800px;margin:0 auto}.MaoDetail--7461cfe8 .maoData--752ffb78>h2{margin:10px 0 5px;letter-spacing:4px;font-size:24px;font-weight:600}.MaoDetail--7461cfe8 .maoData--752ffb78 .boxWrapper--af6a8625{display:flex;justify-content:space-between}.MaoDetail--7461cfe8 .maoData--752ffb78 .boxWrapper--af6a8625>div{width:49%}.MaoDetail--7461cfe8 .maoData--752ffb78 .box--58bfe617{display:flex;align-items:center;margin-top:10px}.MaoDetail--7461cfe8 .maoData--752ffb78 .box--58bfe617>span{font-weight:600;vertical-align:middle}.MaoDetail--7461cfe8 .maoData--752ffb78 .box--58bfe617 input,.MaoDetail--7461cfe8 .maoData--752ffb78 .box--58bfe617 textarea{flex:1}.MaoDetail--7461cfe8 .maoData--752ffb78>div:last-child,.MaoDetail--7461cfe8 .maoData--752ffb78>div:nth-last-child(2){align-items:flex-start}.MaoDetail--7461cfe8 .maoContent--a0a951a8{display:inline-block;width:80%;margin:20px auto;text-align:left}.MaoDetail--7461cfe8 .maoContent--a0a951a8>div{font-size:16px;font-weight:600}",""]),i.locals={MaoDetail:"MaoDetail--7461cfe8",maoDetail:"MaoDetail--7461cfe8",backButton:"backButton--12e45386",saveButton:"saveButton--32c0346a",maoData:"maoData--752ffb78",boxWrapper:"boxWrapper--af6a8625",box:"box--58bfe617",maoContent:"maoContent--a0a951a8"};let c=i},11684(e,t,a){a.d(t,{A:()=>c});var r=a(31601),n=a.n(r),o=a(76314),i=a.n(o)()(n());i.push([e.id,".ImgManage--625cfbaf{margin:20px}",""]),i.locals={ImgManage:"ImgManage--625cfbaf",imgManage:"ImgManage--625cfbaf"};let c=i},89283(e,t,a){a.d(t,{A:()=>c});var r=a(31601),n=a.n(r),o=a(76314),i=a.n(o)()(n());i.push([e.id,'.ParentMao--56143164{margin-top:20px}.ParentMao--56143164 .maoBox--2bd97ccd .self--d29ee847{position:relative;padding:10px 0}.ParentMao--56143164 .maoBox--2bd97ccd .parent--e244155f{position:relative;display:flex}.ParentMao--56143164 .maoBox--2bd97ccd .parent--e244155f::before{position:absolute;top:-10px;left:50%;height:10px;width:1px;background-color:#ccc;content:""}.ParentMao--56143164 .maoBox--2bd97ccd .parent--e244155f .father--64c6b1dd{position:relative;flex:1}.ParentMao--56143164 .maoBox--2bd97ccd .parent--e244155f .father--64c6b1dd::before{position:absolute;top:0;left:50%;right:0;height:1px;background-color:#ccc;content:""}.ParentMao--56143164 .maoBox--2bd97ccd .parent--e244155f .father--64c6b1dd::after{position:absolute;top:0;left:50%;height:10px;width:1px;background-color:#ccc;content:""}.ParentMao--56143164 .maoBox--2bd97ccd .parent--e244155f .mother--8c910194{position:relative;flex:1}.ParentMao--56143164 .maoBox--2bd97ccd .parent--e244155f .mother--8c910194::before{position:absolute;top:0;left:0;right:50%;height:1px;background-color:#ccc;content:""}.ParentMao--56143164 .maoBox--2bd97ccd .parent--e244155f .mother--8c910194::after{position:absolute;top:0;left:50%;height:10px;width:1px;background-color:#ccc;content:""}',""]),i.locals={ParentMao:"ParentMao--56143164",parentMao:"ParentMao--56143164",maoBox:"maoBox--2bd97ccd",self:"self--d29ee847",parent:"parent--e244155f",father:"father--64c6b1dd",mother:"mother--8c910194"};let c=i},71429(e,t,a){a.r(t),a.d(t,{default:()=>em});var r=a(74848),n=a(96540),o=a(85072),i=a.n(o),c=a(97825),l=a.n(c),s=a(77659),u=a.n(s),d=a(55056),f=a.n(d),h=a(10540),p=a.n(h),m=a(41113),b=a.n(m),v=a(18292),x={};x.styleTagTransform=b(),x.setAttributes=f(),x.insert=u().bind(null,"head"),x.domAPI=l(),x.insertStyleElement=p(),i()(v.A,x);let g=v.A&&v.A.locals?v.A.locals:void 0;var y=a(34108),j={};j.styleTagTransform=b(),j.setAttributes=f(),j.insert=u().bind(null,"head"),j.domAPI=l(),j.insertStyleElement=p(),i()(y.A,j);let M=y.A&&y.A.locals?y.A.locals:void 0;var w=a(11684),A={};A.styleTagTransform=b(),A.setAttributes=f(),A.insert=u().bind(null,"head"),A.domAPI=l(),A.insertStyleElement=p(),i()(w.A,A);let P=w.A&&w.A.locals?w.A.locals:void 0;var _=a(10003),S=a(21528);let k=function(e){var t=e.type,a=e.imageList,n=e.other_id,o=e.initImgList,i=e.isShowUpload,c=e.width,l=void 0===c?"150px":c,s=e.style,u=e.margin;return(0,r.jsxs)("div",{className:P.ImgManage,style:{margin:u},children:[(void 0===i||i)&&(0,r.jsx)(S.A,{type:t,other_id:n,width:l,refresh:o}),(0,r.jsx)(_.A,{type:t,refresh:o,width:l,imageList:a,style:s})]})};var C=a(35267),O=a(66720),N=a(41599),D=a(88824),I=a(17125),B=a(90697),L=a(26557),T=a(20156),E=a(36208);function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function z(e,t,a,r,n,o,i){try{var c=e[o](i),l=c.value}catch(e){a(e);return}c.done?t(l):Promise.resolve(l).then(r,n)}function U(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var o=e.apply(t,a);function i(e){z(o,r,n,i,c,"next",e)}function c(e){z(o,r,n,i,c,"throw",e)}i(void 0)})}}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a,r,n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return W(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){var a,r,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),c=Object.defineProperty;return c(i,"next",{value:l(0)}),c(i,"throw",{value:l(1)}),c(i,"return",{value:l(2)}),"function"==typeof Symbol&&c(i,Symbol.iterator,{value:function(){return this}}),i;function l(c){return function(l){var s=[c,l];if(a)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(a=1,r&&(n=2&s[0]?r.return:s[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,s[1])).done)return n;switch(r=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{a=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var G=N.A.Option,K=[{label:"持有",value:"hold"},{label:"已送走",value:"gone"},{label:"死亡",value:"dead"}];let R=function(e){var t=e.mao,a=e.back,o=e.initFn,i=e.maoList,c=(0,n.useContext)(O.Rs).username,l=D.A.TextArea,s=F((0,n.useState)(!1),2),u=s[0],d=s[1],f=F((0,n.useState)(t.name),2),h=f[0],p=f[1],m=F((0,n.useState)(t.birthday),2),b=m[0],v=m[1],x=F((0,n.useState)(t.status),2),g=x[0],y=x[1],j=F((0,n.useState)(t.father),2),w=j[0],A=j[1],P=F((0,n.useState)(t.father_id),2),_=P[0],S=P[1],W=F((0,n.useState)(t.mother),2),z=W[0],R=W[1],q=F((0,n.useState)(t.mother_id),2),H=q[0],J=q[1],Q=F((0,n.useState)(t.appearance),2),V=Q[0],X=Q[1],Y=F((0,n.useState)(t.feature),2),Z=Y[0],ee=Y[1],et=F((0,n.useState)(t.description),2),ea=et[0],er=et[1],en=F((0,n.useState)(t.remarks),2),eo=en[0],ei=en[1];(0,E.h)(function(){eh()}),(0,n.useEffect)(function(){var e=!1;(h!==t.name||b!==t.birthday||w!==t.father||z!==t.mother||V!==t.appearance||Z!==t.feature||ea!==t.description||_!==t.father_id||H!==t.mother_id||g!==t.status||eo!==t.remarks)&&(e=!0),d(e)},[h,b,w,z,V,Z,ea,_,H,g,eo]);var ec=F((0,n.useState)(t.headImgList),2),el=ec[0],es=ec[1],eu=F((0,n.useState)(t.imgList),2),ed=eu[0],ef=eu[1],eh=function(){return U(function(){var e;return $(this,function(a){switch(a.label){case 0:return e={mao_id:t.mao_id,name:h,birthday:b,father:w,mother:z,appearance:V,feature:Z,description:ea,father_id:_,mother_id:H,status:g,remarks:eo},[4,(0,C.Ke)(e)];case 1:return a.sent()?(I.Ay.success("更新成功"),d(!1),o()):I.Ay.error("更新失败"),[2]}})})()};return(0,r.jsxs)("div",{className:"".concat(M.MaoDetail," ScrollBar"),children:[(0,r.jsxs)(B.Ay,{className:M.backButton,type:"primary",onClick:function(){return a()},children:[(0,r.jsx)(L.A,{type:"left"}),"返回"]}),(0,r.jsxs)(B.Ay,{className:M.saveButton,type:"primary",danger:u,onClick:eh,children:[(0,r.jsx)(T.A,{}),"保存"]}),(0,r.jsxs)("div",{className:M.maoData,children:[(0,r.jsx)("h2",{children:t.name}),(0,r.jsxs)("div",{className:M.boxWrapper,children:[(0,r.jsxs)("div",{className:M.box,children:[(0,r.jsx)("span",{children:"姓名："}),(0,r.jsx)(D.A,{value:h,onChange:function(e){return p(e.target.value)}})]}),(0,r.jsxs)("div",{className:M.box,children:[(0,r.jsx)("span",{children:"生日："}),(0,r.jsx)(D.A,{value:b,placeholder:"尽量写10位日期如：2020-01-01，用于找兄弟姐妹",onChange:function(e){return v(e.target.value)}})]})]}),(0,r.jsxs)("div",{className:M.boxWrapper,children:[(0,r.jsxs)("div",{className:M.box,children:[(0,r.jsx)("span",{children:"父亲姓名："}),(0,r.jsx)(D.A,{value:w,onChange:function(e){return A(e.target.value)}})]}),(0,r.jsxs)("div",{className:M.box,children:[(0,r.jsx)("span",{children:"父亲 ID："}),(0,r.jsxs)(N.A,{value:_,onChange:function(e){S(e||"")},style:{flex:1},children:[(0,r.jsx)(G,{value:"",children:"无记录"},"无记录"),i.filter(function(e){return e.mao_id!==t.mao_id}).map(function(e){return(0,r.jsx)(G,{value:e.mao_id,children:e.name},e.mao_id)})]})]})]}),(0,r.jsxs)("div",{className:M.boxWrapper,children:[(0,r.jsxs)("div",{className:M.box,children:[(0,r.jsx)("span",{children:"母亲姓名："}),(0,r.jsx)(D.A,{value:z,onChange:function(e){return R(e.target.value)}})]}),(0,r.jsxs)("div",{className:M.box,children:[(0,r.jsx)("span",{children:"母亲 ID："}),(0,r.jsxs)(N.A,{value:H,onChange:function(e){J(e||"")},style:{flex:1},children:[(0,r.jsx)(G,{value:"",children:"无记录"},"无记录"),i.filter(function(e){return e.mao_id!==t.mao_id}).map(function(e){return(0,r.jsx)(G,{value:e.mao_id,children:e.name},e.mao_id)})]})]})]}),(0,r.jsxs)("div",{className:M.box,children:[(0,r.jsx)("span",{children:"状态："}),(0,r.jsx)(N.A,{value:g,onChange:function(e){return y(e)},style:{flex:1},children:K.map(function(e){return(0,r.jsx)(G,{value:e.value,children:e.label},e.value)})})]}),(0,r.jsxs)("div",{className:M.box,children:[(0,r.jsx)("span",{children:"外貌："}),(0,r.jsx)(D.A,{value:V,onChange:function(e){return X(e.target.value)}})]}),(0,r.jsxs)("div",{className:M.box,children:[(0,r.jsx)("span",{children:"特点："}),(0,r.jsx)(D.A,{value:Z,onChange:function(e){return ee(e.target.value)}})]}),(0,r.jsxs)("div",{className:M.box,children:[(0,r.jsx)("span",{children:"描述："}),(0,r.jsx)(l,{rows:6,value:ea,onChange:function(e){return er(e.target.value)}})]}),(0,r.jsxs)("div",{className:M.box,children:[(0,r.jsx)("span",{children:"备注："}),(0,r.jsx)(l,{rows:2,placeholder:"这个字段不会显示在小程序",value:eo,onChange:function(e){return ei(e.target.value)}})]})]}),(0,r.jsxs)("div",{className:M.maoContent,children:[(0,r.jsx)("div",{children:"头像图片"}),(0,r.jsx)(k,{type:"mao",other_id:t.head_img_id,imageList:el,initImgList:function(){return U(function(){return $(this,function(e){switch(e.label){case 0:return[4,(0,C.gC)(t.head_img_id,c)];case 1:return es(e.sent()),[2]}})})()},isShowUpload:0===el.length}),(0,r.jsxs)("div",{children:["其他图片 (",null==ed?void 0:ed.length,")"]}),(0,r.jsx)(k,{type:"mao",other_id:t.mao_id,imageList:ed,initImgList:function(){return U(function(){return $(this,function(e){switch(e.label){case 0:return[4,(0,C.gC)(t.mao_id,c)];case 1:return ef(e.sent()),[2]}})})()}})]})]})};var q=a(17063),H=a(4787),J=a(68940),Q=a(60858),V={};V.styleTagTransform=b(),V.setAttributes=f(),V.insert=u().bind(null,"head"),V.domAPI=l(),V.insertStyleElement=p(),i()(Q.A,V);let X=Q.A&&Q.A.locals?Q.A.locals:void 0;var Y=a(89283),Z={};Z.styleTagTransform=b(),Z.setAttributes=f(),Z.insert=u().bind(null,"head"),Z.domAPI=l(),Z.insertStyleElement=p(),i()(Y.A,Z);let ee=Y.A&&Y.A.locals?Y.A.locals:void 0,et=function(e){var t=e.mao,a=function(e){return(0,r.jsxs)("div",{className:ee.maoBox,children:[(0,r.jsx)("div",{className:ee.self,children:e.name}),(e.fatherObject||e.motherObject)&&(0,r.jsxs)("div",{className:ee.parent,children:[(0,r.jsx)("div",{className:ee.father,children:e.fatherObject?a(e.fatherObject):(0,r.jsx)("div",{className:ee.self,children:e.father})}),(0,r.jsx)("div",{className:ee.mother,children:e.motherObject?a(e.motherObject):(0,r.jsx)("div",{className:ee.self,children:e.mother})})]})]},e.mao_id)};return(0,r.jsx)("div",{className:ee.ParentMao,children:a(t)})};function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a,r,n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}}(e,t)||en(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,t){if(e){if("string"==typeof e)return ea(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ea(e,t)}}var eo=function(e){var t=e.maoList,a=er((0,n.useState)(),2),o=a[0],i=a[1];return(0,r.jsxs)("div",{className:X.compareMao,children:[(0,r.jsx)(N.A,{style:{width:300},value:null==o?void 0:o.mao_id,showSearch:!0,filterOption:function(e,t){return(null==t?void 0:t.children.indexOf(e))!==-1},onChange:function(e){var a;return i(null==(a=t.filter(function(t){return t.mao_id===e}))?void 0:a[0])},children:t.map(function(e){return(0,r.jsx)(N.A.Option,{value:e.mao_id,children:e.name},e.mao_id)})}),o&&(0,r.jsx)(et,{mao:o})]})};let ei=function(e){var t=e.maoList;e.setActiveMao;var a=er((0,n.useState)([0,0]),2),o=a[0],i=a[1];return(0,r.jsxs)("div",{className:X.maoTree,children:[(0,r.jsx)(B.Ay,{onClick:function(){return i(function(e){return console.log(e),((function(e){if(Array.isArray(e))return ea(e)})(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||en(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([0])})},children:"新增对比"}),(0,r.jsx)("div",{className:X.compareBox,children:o.map(function(e,a){return(0,r.jsx)(eo,{maoList:t},a)})})]})};function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function el(e,t,a,r,n,o,i){try{var c=e[o](i),l=c.value}catch(e){a(e);return}c.done?t(l):Promise.resolve(l).then(r,n)}function es(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var o=e.apply(t,a);function i(e){el(o,r,n,i,c,"next",e)}function c(e){el(o,r,n,i,c,"throw",e)}i(void 0)})}}function eu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a,r,n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ec(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ec(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ed(e,t){var a,r,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),c=Object.defineProperty;return c(i,"next",{value:l(0)}),c(i,"throw",{value:l(1)}),c(i,"return",{value:l(2)}),"function"==typeof Symbol&&c(i,Symbol.iterator,{value:function(){return this}}),i;function l(c){return function(l){var s=[c,l];if(a)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(a=1,r&&(n=2&s[0]?r.return:s[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,s[1])).done)return n;switch(r=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{a=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var ef=["所有猫猫","关联猫猫","分层猫猫","对比猫猫"],eh=["当前猫咪","父母","兄弟姐妹","孩子","持有","已送走","死亡"],ep={hold:g.hold,gone:g.gone,dead:g.dead};let em=function(){(0,n.useEffect)(function(){p()},[]),(0,q.A)("猫谱");var e,t,a=eu((0,n.useState)([]),2),o=a[0],i=a[1],c=eu((0,n.useState)(),2),l=c[0],s=c[1],u=eu((0,n.useState)(null),2),d=u[0],f=u[1],h=function(e){var t={};return e.forEach(function(e){t[e.mao_id]=e}),e.forEach(function(e){e.father_id&&(t[e.father_id].children?t[e.father_id].children.push(t[e.mao_id]):t[e.father_id].children=[t[e.mao_id]],e.fatherObject=t[e.father_id]),e.mother_id&&(t[e.mother_id].children?t[e.mother_id].children.push(t[e.mao_id]):t[e.mother_id].children=[t[e.mao_id]],e.motherObject=t[e.mother_id])}),e},p=function(){return es(function(){var e;return ed(this,function(t){switch(t.label){case 0:return[4,(0,C.ut)()];case 1:return(null==(e=t.sent())?void 0:e.data)&&i(h(e.data.map(function(e){var t,a;return t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){var r;r=a[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),a=a={key:e.mao_id,title:e.name},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):(function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a.push.apply(a,r)}return a})(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}),t}))),[2]}})})()},m=eu((0,n.useState)("所有猫猫"),2),b=m[0],v=m[1],x=function(e){return void 0===e?null:e.map(function(e){return(0,r.jsxs)("div",{className:e.children?g.box:"",children:[w(e),e.children&&(0,r.jsx)("div",{className:g.children,children:x(e.children)})]},e.mao_id)})},y=eu((0,n.useState)(),2),j=y[0],M=y[1],w=function(e){return(0,r.jsx)("div",{className:"".concat(g.parent," ").concat(d&&d.mao_id===e.mao_id?g.hover:""," ").concat(d&&d.mao_id!==e.mao_id&&10===d.birthday.length&&d.birthday===e.birthday?g.hoverBroSis:""," ").concat(d&&e.children&&e.children.some(function(e){return e.mao_id===d.mao_id})?g.hoverChildren:""," ").concat(d&&(e.mother_id===d.mao_id||e.father_id===d.mao_id)?g.hoverParent:""," ").concat(P?ep[e.status]:"","\n              "),onMouseEnter:function(t){t.stopPropagation(),P||d&&d.mao_id===e.mao_id||f(e)},onClick:function(){return s(e)},children:(0,r.jsx)("span",{children:e.name})},e.mao_id)},A=eu((0,n.useState)(!1),2),P=A[0],_=A[1],S=function(e){_(e),f(null)};return(0,r.jsxs)("div",{className:g.MaoPu,children:[!l&&(0,r.jsxs)("div",{className:"".concat(g.maopuWrapper," ScrollBar"),children:[(0,r.jsxs)(B.Ay,{className:g.addButton,type:"primary",onClick:function(){return es(function(){var e;return ed(this,function(t){switch(t.label){case 0:return[4,(0,C.ov)({})];case 1:return(e=t.sent())&&(I.Ay.success("新增猫猫成功"),s(e),p()),[2]}})})()},children:[(0,r.jsx)(J.A,{}),"新增猫猫"]}),(0,r.jsx)("div",{className:g.switchShowType,children:ef.map(function(e){return(0,r.jsx)("span",{className:b===e?g.active:"",onClick:function(){return v(e)},children:e},e)})}),(0,r.jsx)("div",{className:g.showMaoStatus,children:(0,r.jsx)(H.A,{checkedChildren:"显示猫咪状态",unCheckedChildren:"显示猫咪状态",defaultChecked:!0,checked:P,onChange:function(e){return S(e)}})}),"分层猫猫"===b&&(0,r.jsxs)("div",{className:"".concat(g.levelMao),children:[(0,r.jsx)("div",{className:g.singleMao,children:o.filter(function(e){return""===e.father_id&&""===e.mother_id&&!e.children}).map(function(e){return w(e)})}),x(o.filter(function(e){return""===e.father_id&&""===e.mother_id&&e.children}))]}),(0,r.jsx)("div",{className:g.colorCloud,children:eh.map(function(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:g.status})," ",e]},e)})}),"关联猫猫"===b&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D.A,{value:j,onChange:function(e){return M(e.target.value)},style:{width:300},allowClear:!0}),(0,r.jsx)("div",{className:g.maoList,children:null==(e=j?o.filter(function(e){return -1!==e.name.indexOf(j)}):o)?void 0:e.map(function(e){return w(e)})}),d&&(0,r.jsx)(et,{mao:d})]}),"所有猫猫"===b&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D.A,{value:j,onChange:function(e){return M(e.target.value)},style:{width:300},allowClear:!0}),(0,r.jsx)("div",{className:g.maoList,children:null==(t=j?o.filter(function(e){return -1!==e.name.indexOf(j)}):o)?void 0:t.map(function(e){return(0,r.jsxs)("span",{className:g.allMao,onMouseEnter:function(t){t.stopPropagation(),P||d&&d.mao_id===e.mao_id||f(e)},onClick:function(){return s(e)},children:[0!==e.headImgList.length&&(0,r.jsx)(k,{type:"mao",other_id:e.head_img_id,imageList:e.headImgList,initImgList:function(){},isShowUpload:!1,width:"100px",margin:"5px",style:{margin:0,padding:0}}),(0,r.jsx)("div",{children:e.name})]},e.mao_id)})})]}),"对比猫猫"===b&&(0,r.jsx)(ei,{maoList:o,setActiveMao:s})]}),l&&(0,r.jsx)(R,{maoList:o,mao:l,back:function(){s(void 0),p()},initFn:function(){return p()}})]})}}}]);